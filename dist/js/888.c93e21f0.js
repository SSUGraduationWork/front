"use strict";(self["webpackChunkco_work"]=self["webpackChunkco_work"]||[]).push([[888],{1888:function(e,a,t){t.r(a),t.d(a,{default:function(){return q}});var s=t(3396),o=t(7139),l=t(9242);const d=e=>((0,s.dD)("data-v-38dc46b3"),e=e(),(0,s.Cn)(),e),c={key:0,class:"loading-container"},i={key:1},n={class:"white-bg"},r=d((()=>(0,s._)("div",{class:"icon-box"},[(0,s._)("div",{class:"icon-circle"},[(0,s._)("i",{class:"fa fa-users","aria-hidden":"true"})])],-1))),m={class:"update-modal-overlay"},p={class:"footer"},u={class:"dialog-footer"},h={class:"white-bg"},v=d((()=>(0,s._)("div",{class:"icon-box"},[(0,s._)("div",{class:"icon-circle"},[(0,s._)("i",{class:"fa fa-users","aria-hidden":"true"})])],-1))),_={class:"update-modal-overlay"},b={class:"footer"},g={class:"dialog-footer"},y={class:"white-bg-delete"},f=(0,s.uE)('<div class="icon-box" data-v-38dc46b3><div class="icon-circle delete-icon-circle" data-v-38dc46b3><i class="fi fi-rs-trash" data-v-38dc46b3></i></div></div><div class="delete-text" data-v-38dc46b3><div class="large" data-v-38dc46b3>이 팀을 삭제하시겠습니까?</div><div class="small" data-v-38dc46b3>삭제 후에는 다시 복구할 수 없습니다.</div></div>',2),T={class:"delete-footer"},w={class:"content"},k={class:"top"},j={class:"watchProjectName"},I=d((()=>(0,s._)("i",{class:"fi fi-br-plus"},null,-1))),N={class:"teams"},D={class:"container1"},C={class:"teamName"},M=d((()=>(0,s._)("div",{class:"semester"},null,-1))),P={class:"participant"},B={class:"teamNumber"},S=d((()=>(0,s._)("div",{class:"margin-space"},null,-1)));function x(e,a,t,d,x,$){const O=(0,s.up)("Loader"),Z=(0,s.up)("el-button"),z=(0,s.up)("Avatar"),A=(0,s.up)("router-link");return x.loading?((0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(O)])):((0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",{class:"black-bg",style:(0,o.j5)({display:x.updateModalDisplay})},[(0,s._)("div",n,[r,(0,s._)("div",m,[(0,s.wy)((0,s._)("input",{style:{"margin-top":"10px"},"onUpdate:modelValue":a[0]||(a[0]=e=>x.updateTeamName=e),class:"custom-input-style"},null,512),[[l.nr,x.updateTeamName]])]),(0,s._)("div",p,[(0,s._)("span",u,[(0,s._)("button",{onClick:a[1]||(a[1]=e=>$.updateClose()),class:"cancel"},"취소"),(0,s._)("button",{type:"primary",onClick:a[2]||(a[2]=e=>$.updateTeams()),class:"ok"},"수정")])])])],4),(0,s._)("div",{class:"black-bg",style:(0,o.j5)({display:x.postModalDisplay})},[(0,s._)("div",h,[v,(0,s._)("div",_,[(0,s.wy)((0,s._)("input",{placeholder:"팀명을 입력해 주세요",style:{"margin-top":"10px"},"onUpdate:modelValue":a[3]||(a[3]=e=>x.postTeamName=e),class:"custom-input-style"},null,512),[[l.nr,x.postTeamName]])]),(0,s._)("div",b,[(0,s._)("span",g,[(0,s._)("button",{onClick:a[4]||(a[4]=e=>$.close()),class:"cancel"},"취소"),(0,s._)("button",{type:"primary",onClick:a[5]||(a[5]=e=>$.postTeams()),class:"ok"},"생성")])])])],4),(0,s._)("div",{class:"black-bg",style:(0,o.j5)({display:x.deleteModalDisplay})},[(0,s._)("div",y,[f,(0,s._)("div",T,[(0,s._)("button",{type:"danger",onClick:a[6]||(a[6]=e=>$.deleteTeams()),class:"delete"},"삭제"),(0,s._)("button",{type:"primary",onClick:a[7]||(a[7]=e=>$.deleteClose()),class:"cancel"},"취소")])])],4),(0,s._)("div",w,[(0,s._)("div",k,[(0,s._)("div",j,(0,o.zw)(this.projectName),1),(0,s.Wm)(Z,{type:"primary",class:"new",onClick:a[8]||(a[8]=e=>$.generate())},{default:(0,s.w5)((()=>[I,(0,s.Uk)("팀 생성")])),_:1})]),(0,s._)("div",N,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(x.teams,(e=>((0,s.wg)(),(0,s.j4)(A,{key:e.teamId,to:{name:"Work",params:{teamId:e.teamId}},class:"team"},{default:(0,s.w5)((()=>[(0,s._)("div",D,[(0,s._)("div",C,(0,o.zw)(e.teamName),1)]),M,(0,s._)("div",P,[(0,s.Wm)(z,{number:e.teamNumber},null,8,["number"]),(0,s._)("div",B,(0,o.zw)(e.teamNumber)+"명 참여",1)])])),_:2},1032,["to"])))),128))]),S])]))}var $=t(6565),O=t(8514),Z=t(8418),z=t(4217),A=t(65);(0,A.oR)();var U={props:["teams"],components:{TeamDeleteButton:O.Z,Avatar:Z.Z,Loader:z.Z},computed:{projectId(){return this.$route.params.projectId},postSetParams(){const e={projectId:this.projectId,teamName:this.postTeamName,teamNumber:0};return console.log("params: ",e),e},updateSetParams(){const e={projectId:this.updateProjectId,teamId:this.updateTeamId,teamName:this.updateTeamName,teamNumber:this.updateTeam.teamNumber};return console.log("params: ",e),e}},mounted(){this.showTeams()},data(){return{teams:null,projectName:null,postTeam:null,postTeamName:null,postModalDisplay:"none",updateTeam:null,updateTeamName:null,updateProjectId:null,updateTeamId:null,updateModalDisplay:"none",deleteTeamId:null,deleteModalDisplay:"none",moreButtonOpen:{},loading:!0,owner:!1}},methods:{generate(){this.postModalDisplay="flex"},postTeams(){(0,A.oR)();const e=this.$store.state.userStore.user_id;console.log("studentId: "+e),$.be.post(`/dashboard-service/dashboard/teams/${this.projectId}/${e}`,this.postSetParams).then((e=>{"Success"==e.data.message&&(this.postTeam=e,this.$router.go(0))})).catch((e=>{console.log(e)}))},close(){this.postModalDisplay="none",this.postTeam=null,this.postTeamName=null},async getTeams(){try{const e=await $.be.get(`/dashboard-service/dashboard/teamsByPro/${this.projectId}`);"Success"===e.data.message&&(this.teams=e.data.data.object1,this.projectName=e.data.data.string,e.data.data.owner&&(this.owner=e.data.data.owner),console.log(e.data.data)),this.loading=!1}catch(e){console.log(e)}},async showTeams(){await this.getTeams()},updateGenerate(e){this.updateModalDisplay="flex",this.updateTeam=e,this.updateTeamId=e.teamId,this.updateTeamName=e.teamName,this.updateProjectId=e.projectId},updateTeams(){$.be.post(`/dashboard-service/dashboard/teams/${this.updateTeamId}`,this.updateSetParams).then((e=>{"Success"==e.data.message&&(this.postTeam=e.data.data),this.$router.go(0)})).catch((e=>{console.log(e)}))},updateClose(){this.updateModalDisplay="none",this.updateProject=null,this.updateTeamName=null},deleteClose(){this.deleteModalDisplay="none"},deleteTeams(){console.log(this.deleteTeamId),$.be.delete(`/dashboard-service/dashboard/teams/${this.deleteTeamId}`).then((e=>{"Success"==e.data.message&&console.log("Completely Delete"),this.$router.go(0)})).catch((e=>{console.log(e)}))},deleteConfirm(){this.deleteModalDisplay="flex"},modButtonControl(e){const a=e.toString();1==this.moreButtonOpen[a]?this.moreButtonOpen[a]=!1:this.moreButtonOpen[a]=!0},deleteGenerate(e){this.deleteModalDisplay="flex",this.deleteTeamId=e}}},W=t(89);const G=(0,W.Z)(U,[["render",x],["__scopeId","data-v-38dc46b3"]]);var q=G},8418:function(e,a,t){t.d(a,{Z:function(){return i}});var s=t(3396),o=t(4870);const l={class:"card flex justify-content-center"};var d={__name:"Avatar",props:{number:{type:Number}},setup(e){const a=e;let t=0,d=0;a.number>3?(t=3,d=a.number-t):t=a.number;const c=`+${d}`;return(e,a)=>{const i=(0,s.up)("Avatar",!0),n=(0,s.up)("AvatarGroup");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,o.SU)(t),(e=>((0,s.wg)(),(0,s.j4)(i,{key:e,image:"https://cdn-icons-png.flaticon.com/128/149/149071.png",size:"large",shape:"circle"})))),128)),(0,o.SU)(d)>0?((0,s.wg)(),(0,s.j4)(i,{key:0,label:c,shape:"circle",size:"large",style:{color:"'#ffffff'"}})):(0,s.kq)("",!0)])),_:1})])}}};const c=d;var i=c},8514:function(e,a,t){t.d(a,{Z:function(){return u}});var s=t(3396);const o=e=>((0,s.dD)("data-v-0c6505fe"),e=e(),(0,s.Cn)(),e),l={key:0,class:"modification"},d=o((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rr-pencil"})],-1))),c=[d],i=o((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rs-trash"})],-1))),n=[i];var r={__name:"TeamDeleteButton",props:{moreButtonOpen:{type:Boolean}},emits:["deleteProject","updateProject","closeMod"],setup(e,{emit:a}){const t=e,o=()=>{a("deleteProject"),t.moreButtonOpen=!1,console.log("delete")},d=()=>{a("updateProject"),t.moreButtonOpen=!1,console.log("mod")};return(a,t)=>e.moreButtonOpen?((0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",{class:"options"},[(0,s._)("div",{class:"mod",onClick:d},c),(0,s._)("div",{class:"delete",onClick:o},n)])])):(0,s.kq)("",!0)}},m=t(89);const p=(0,m.Z)(r,[["__scopeId","data-v-0c6505fe"]]);var u=p}}]);
//# sourceMappingURL=888.c93e21f0.js.map