{"version":3,"file":"js/180.3ab77651.js","mappings":"4PAgBMA,EAAgB,gBAChBC,EAAY,Y,6CALlB,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACTC,GAASC,EAAAA,EAAAA,MAITC,GAAcC,EAAAA,EAAAA,IAAIH,EAAMI,MAAMF,a,OAEpCG,EAAAA,GAAcC,IAAK,sDAAqDV,EAAMW,MAAMC,QAC/EC,MAAMC,IAEAA,EAAIC,OACqB,MAApBD,EAAIC,KAAKC,SAETZ,EAAMa,OAAQ,GAAEnB,iBAA8BgB,EAAIC,KAAKG,YACvDd,EAAMa,OAAQ,GAAEnB,kBAA+BgB,EAAIC,KAAKI,aAExDjB,EAAOkB,KAAK,sBAEZhB,EAAMa,OAAQ,GAAElB,cAAuBe,EAAIC,KAAKC,SAChDZ,EAAMa,OAAQ,GAAElB,gBAAyBe,EAAIC,KAAKM,UAClDjB,EAAMa,OAAQ,GAAElB,YAAqBe,EAAIC,KAAKO,MAErB,MAArBhB,EAAYiB,OACZnB,EAAMa,OAAO,iBAAkB,MAC/Bf,EAAOkB,KAAM,GAAEd,EAAYiB,UAI3BrB,EAAOkB,KAAM,cAAaN,EAAIC,KAAKO,QAAQR,EAAIC,KAAKC,YAIhE,I,wDC1CR,MAAMQ,EAAc,EAEpB,O","sources":["webpack://co-work/./src/views/Account/GoogleOAuthCallback.vue","webpack://co-work/./src/views/Account/GoogleOAuthCallback.vue?0f22"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <Loader></Loader>\n    </div>\n</template>\n<script setup>\nimport { axiosInstance } from '../../axios';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { ref } from 'vue';\nimport Loader from '../../components/Loader.vue'\n\nconst route = useRoute();\nconst router = useRouter();\nconst store  = useStore();\n\nconst registerStore = 'registerStore';\nconst userStore = 'userStore';\nconst redirectURL = ref(store.state.redirectURL);  //로그인 후 redirect할 uri\n\naxiosInstance.get(`/user-service/accounts/oauth2/google/callback?code=${route.query.code}`)\n    .then((res) => {\n\n        if(res.data) {\n            if (res.data.user_id == null) {\n                //signup 페이지로 이동 (user_email, picture_url 값 전송해야함)\n                store.commit(`${registerStore}/setUserEmail`, res.data.user_email);\n                store.commit(`${registerStore}/setPictureUrl`, res.data.picture_url);\n                \n                router.push('/accounts/signup');\n            } else {\n                store.commit(`${userStore}/setUserId`, res.data.user_id );\n                store.commit(`${userStore}/setJwtToken`, res.data.jwtToken);\n                store.commit(`${userStore}/setRole`, res.data.role);\n                \n                if (redirectURL.value != null){\n                    store.commit('setRedirectURL', null);\n                    router.push(`${redirectURL.value}`);\n                \n                    //window.open(`http://192.168.23.111:80/${redirectURL.value}`,\"_self\")\n                } else{\n                    router.push(`/dashboard/${res.data.role}/${res.data.user_id}`);\n                    //window.open(`http://192.168.23.111:80/dashboard/${res.data.role}/${res.data.user_id}`,\"_self\")\n                }\n            }\n        }\n       \n    })\n\n</script>\n","import script from \"./GoogleOAuthCallback.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoogleOAuthCallback.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["registerStore","userStore","route","useRoute","router","useRouter","store","useStore","redirectURL","ref","state","axiosInstance","get","query","code","then","res","data","user_id","commit","user_email","picture_url","push","jwtToken","role","value","__exports__"],"sourceRoot":""}