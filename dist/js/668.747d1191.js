"use strict";(self["webpackChunkco_work"]=self["webpackChunkco_work"]||[]).push([[668],{3668:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var s=a(3396),o=a(7139),l=a(9242);const d=e=>((0,s.dD)("data-v-790bdcd2"),e=e(),(0,s.Cn)(),e),n={key:0,class:"loading-container"},c={key:1},i={class:"white-bg"},r=d((()=>(0,s._)("div",{class:"icon-box"},[(0,s._)("div",{class:"icon-circle"},[(0,s._)("i",{class:"fa fa-users","aria-hidden":"true"})])],-1))),m={class:"update-modal-overlay"},p={class:"footer"},u={class:"dialog-footer"},h={class:"white-bg"},v=d((()=>(0,s._)("div",{class:"icon-box"},[(0,s._)("div",{class:"icon-circle"},[(0,s._)("i",{class:"fa fa-users","aria-hidden":"true"})])],-1))),_={class:"update-modal-overlay"},b={class:"footer"},g={class:"dialog-footer"},y={class:"white-bg-delete"},f=(0,s.uE)('<div class="icon-box" data-v-790bdcd2><div class="icon-circle delete-icon-circle" data-v-790bdcd2><i class="fi fi-rs-trash" data-v-790bdcd2></i></div></div><div class="delete-text" data-v-790bdcd2><div class="large" data-v-790bdcd2>이 팀을 삭제하시겠습니까?</div><div class="small" data-v-790bdcd2>삭제 후에는 다시 복구할 수 없습니다.</div></div>',2),T={class:"delete-footer"},j={class:"content"},w={class:"top"},k={class:"watchProjectName"},I={class:"teams"},D={class:"container1"},N={class:"teamName"},C=["onClick"],B=d((()=>(0,s._)("i",{class:"fi fi-rs-menu-dots-vertical"},null,-1))),P=d((()=>(0,s._)("div",{class:"semester"},null,-1))),M={class:"participant"},S={class:"teamNumber"},x=d((()=>(0,s._)("div",{class:"margin-space"},null,-1)));function O(e,t,a,d,O,$){const Z=(0,s.up)("Loader"),U=(0,s.up)("TeamDeleteButton"),z=(0,s.up)("Avatar"),A=(0,s.up)("router-link");return O.loading?((0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(Z)])):((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",{class:"black-bg",style:(0,o.j5)({display:O.updateModalDisplay})},[(0,s._)("div",i,[r,(0,s._)("div",m,[(0,s.wy)((0,s._)("input",{style:{"margin-top":"10px"},"onUpdate:modelValue":t[0]||(t[0]=e=>O.updateTeamName=e),class:"custom-input-style"},null,512),[[l.nr,O.updateTeamName]])]),(0,s._)("div",p,[(0,s._)("span",u,[(0,s._)("button",{onClick:t[1]||(t[1]=e=>$.updateClose()),class:"cancel"},"취소"),(0,s._)("button",{type:"primary",onClick:t[2]||(t[2]=e=>$.updateTeams()),class:"ok"},"수정")])])])],4),(0,s._)("div",{class:"black-bg",style:(0,o.j5)({display:O.postModalDisplay})},[(0,s._)("div",h,[v,(0,s._)("div",_,[(0,s.wy)((0,s._)("input",{placeholder:"팀명을 입력해 주세요",style:{"margin-top":"10px"},"onUpdate:modelValue":t[3]||(t[3]=e=>O.postTeamName=e),class:"custom-input-style"},null,512),[[l.nr,O.postTeamName]])]),(0,s._)("div",b,[(0,s._)("span",g,[(0,s._)("button",{onClick:t[4]||(t[4]=e=>$.close()),class:"cancel"},"취소"),(0,s._)("button",{type:"primary",onClick:t[5]||(t[5]=e=>$.postTeams()),class:"ok"},"생성")])])])],4),(0,s._)("div",{class:"black-bg",style:(0,o.j5)({display:O.deleteModalDisplay})},[(0,s._)("div",y,[f,(0,s._)("div",T,[(0,s._)("button",{type:"danger",onClick:t[6]||(t[6]=e=>$.deleteTeams()),class:"delete"},"삭제"),(0,s._)("button",{type:"primary",onClick:t[7]||(t[7]=e=>$.deleteClose()),class:"cancel"},"취소")])])],4),(0,s._)("div",j,[(0,s._)("div",w,[(0,s._)("div",k,(0,o.zw)(this.projectName),1)]),(0,s._)("div",I,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(O.teams,(e=>((0,s.wg)(),(0,s.j4)(A,{key:e.teamId,to:{name:"Work",params:{teamId:e.teamId}},class:"team"},{default:(0,s.w5)((()=>[(0,s._)("div",D,[(0,s._)("div",N,(0,o.zw)(e.teamName),1),(0,s._)("div",{class:"more-button",onClick:[t[8]||(t[8]=(0,l.iM)((()=>{}),["prevent"])),t=>$.modButtonControl(e.teamId)]},[B,(0,s.Wm)(U,{moreButtonOpen:O.moreButtonOpen[e.teamId.toString()],onDeleteProject:t=>$.deleteGenerate(e.teamId),onUpdateProject:t=>$.updateGenerate(e)},null,8,["moreButtonOpen","onDeleteProject","onUpdateProject"])],8,C)]),P,(0,s._)("div",M,[(0,s.Wm)(z,{number:e.teamNumber},null,8,["number"]),(0,s._)("div",S,(0,o.zw)(e.teamNumber)+"명 참여",1)])])),_:2},1032,["to"])))),128))]),x])]))}var $=a(6565),Z=a(8514),U=a(8418),z=a(4217);var A={props:["teams"],components:{TeamDeleteButton:Z.Z,Avatar:U.Z,Loader:z.Z},computed:{projectId(){return this.$route.params.projectId},postSetParams(){const e={projectId:this.projectId,teamName:this.postTeamName,teamNumber:0};return console.log("params: ",e),e},updateSetParams(){const e={projectId:this.updateProjectId,teamId:this.updateTeamId,teamName:this.updateTeamName,teamNumber:this.updateTeam.teamNumber};return console.log("params: ",e),e}},mounted(){this.showTeams()},data(){return{teams:null,projectName:null,postTeam:null,postTeamName:null,postModalDisplay:"none",updateTeam:null,updateTeamName:null,updateProjectId:null,updateTeamId:null,updateModalDisplay:"none",deleteTeamId:null,deleteModalDisplay:"none",moreButtonOpen:{},loading:!0,owner:!1}},methods:{generate(){this.postModalDisplay="flex"},postTeams(){$.be.post(`/dashboard-service/dashboard/team/${this.projectId}/${this.studentId}`,this.postSetParams).then((e=>{"Success"==e.data.message&&(this.postTeam=e,this.$router.go(0))})).catch((e=>{console.log(e)}))},close(){this.postModalDisplay="none",this.postTeam=null,this.postTeamName=null},async getTeams(){try{const e=await $.be.get(`/dashboard-service/dashboard/teamsByPro/${this.projectId}`);"Success"===e.data.message&&(this.teams=e.data.data.object1,this.projectName=e.data.data.string,e.data.data.owner&&(this.owner=e.data.data.owner),console.log(e.data.data)),this.loading=!1}catch(e){console.log(e)}},async showTeams(){await this.getTeams()},updateGenerate(e){this.updateModalDisplay="flex",this.updateTeam=e,this.updateTeamId=e.teamId,this.updateTeamName=e.teamName,this.updateProjectId=e.projectId},updateTeams(){$.be.post(`/dashboard-service/dashboard/teams/${this.updateTeamId}`,this.updateSetParams).then((e=>{"Success"==e.data.message&&(this.postTeam=e.data.data),this.$router.go(0)})).catch((e=>{console.log(e)}))},updateClose(){this.updateModalDisplay="none",this.updateProject=null,this.updateTeamName=null},deleteClose(){this.deleteModalDisplay="none"},deleteTeams(){console.log(this.deleteTeamId),$.be.delete(`/dashboard-service/dashboard/teams/${this.deleteTeamId}`).then((e=>{"Success"==e.data.message&&console.log("Completely Delete"),this.$router.go(0)})).catch((e=>{console.log(e)}))},deleteConfirm(){this.deleteModalDisplay="flex"},modButtonControl(e){const t=e.toString();1==this.moreButtonOpen[t]?this.moreButtonOpen[t]=!1:this.moreButtonOpen[t]=!0},deleteGenerate(e){this.deleteModalDisplay="flex",this.deleteTeamId=e}}},G=a(89);const W=(0,G.Z)(A,[["render",O],["__scopeId","data-v-790bdcd2"]]);var q=W},8418:function(e,t,a){a.d(t,{Z:function(){return c}});var s=a(3396),o=a(4870);const l={class:"card flex justify-content-center"};var d={__name:"Avatar",props:{number:{type:Number}},setup(e){const t=e;let a=0,d=0;t.number>3?(a=3,d=t.number-a):a=t.number;const n=`+${d}`;return(e,t)=>{const c=(0,s.up)("Avatar",!0),i=(0,s.up)("AvatarGroup");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(i,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,o.SU)(a),(e=>((0,s.wg)(),(0,s.j4)(c,{key:e,image:"https://cdn-icons-png.flaticon.com/128/149/149071.png",size:"large",shape:"circle"})))),128)),(0,o.SU)(d)>0?((0,s.wg)(),(0,s.j4)(c,{key:0,label:n,shape:"circle",size:"large",style:{color:"'#ffffff'"}})):(0,s.kq)("",!0)])),_:1})])}}};const n=d;var c=n},8514:function(e,t,a){a.d(t,{Z:function(){return u}});var s=a(3396);const o=e=>((0,s.dD)("data-v-0c6505fe"),e=e(),(0,s.Cn)(),e),l={key:0,class:"modification"},d=o((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rr-pencil"})],-1))),n=[d],c=o((()=>(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fi fi-rs-trash"})],-1))),i=[c];var r={__name:"TeamDeleteButton",props:{moreButtonOpen:{type:Boolean}},emits:["deleteProject","updateProject","closeMod"],setup(e,{emit:t}){const a=e,o=()=>{t("deleteProject"),a.moreButtonOpen=!1,console.log("delete")},d=()=>{t("updateProject"),a.moreButtonOpen=!1,console.log("mod")};return(t,a)=>e.moreButtonOpen?((0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",{class:"options"},[(0,s._)("div",{class:"mod",onClick:d},n),(0,s._)("div",{class:"delete",onClick:o},i)])])):(0,s.kq)("",!0)}},m=a(89);const p=(0,m.Z)(r,[["__scopeId","data-v-0c6505fe"]]);var u=p}}]);
//# sourceMappingURL=668.747d1191.js.map