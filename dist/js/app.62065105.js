(function(){"use strict";var e={6565:function(e,t,a){a.d(t,{be:function(){return l}});a(7658);var s=a(4161),o=a(5389),i=a(3207);const r=s.Z.create({baseURL:"http://44.219.162.63:3000"}),n=s.Z.create({baseURL:"http://localhost:3210"}),l=s.Z.create({baseURL:"https://puzzleplan.shop/api"});s.Z.create({baseURL:"http://localhost:3001"});n.interceptors.request.use((e=>{let t=o.Z.state.userStore.jwtToken;return t&&(e.headers.Authorization=`Bearer ${t}`),e})),r.interceptors.request.use((e=>{let t=o.Z.state.userStore.jwtToken;return t&&(e.headers.Authorization=`Bearer ${t}`),e})),l.interceptors.request.use((e=>{let t=o.Z.state.userStore.jwtToken;return t&&(e.headers.Authorization=`Bearer ${t}`),e})),l.interceptors.response.use((e=>e),(e=>{if(e.response){const t=e.response.status;401===t?(console.error("401 Unauthorized"),i.Z.push(`${e.response.data.requestURI}`)):console.error(`HTTP Error: ${t} ${e.response.statusText}`)}else console.error("Network Error: ",e.message);return Promise.reject(e)}))},9936:function(e,t,a){var s=a(9242),o=a(3396),i=a(7139);const r={key:4};function n(e,t,a,s,n,l){const d=(0,o.up)("Sidebar"),c=(0,o.up)("FirstSidebar"),u=(0,o.up)("SecondSidebar"),m=(0,o.up)("HeaderDashboard"),p=(0,o.up)("Header"),g=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[0==["Account","SignIn","SignUp","CallBack","Das","DashboardPro1","DashboardPro2","DashboardStu","Setting1","Setting2","Invitation"].includes(e.$route.name)?((0,o.wg)(),(0,o.j4)(d,{key:0,teamId:l.teamId},null,8,["teamId"])):(0,o.kq)("",!0),1==["DashboardPro1","DashboardPro2","Setting1"].includes(e.$route.name)?((0,o.wg)(),(0,o.j4)(c,{key:1,professorId:l.professorId},null,8,["professorId"])):(0,o.kq)("",!0),1==["DashboardStu1","DashboardStu2","Setting2"].includes(e.$route.name)?((0,o.wg)(),(0,o.j4)(u,{key:2,studentId:l.studentId},null,8,["studentId"])):(0,o.kq)("",!0),0==["Account","SignIn","SignUp","CallBack","Invitation"].includes(e.$route.name)?((0,o.wg)(),(0,o.iD)("div",{key:3,style:(0,i.j5)({"margin-left":s.sidebarWidth})},[1==["DashboardPro1","Setting1","DashboardStu1","DashboardStu2","Setting2"].includes(e.$route.name)?((0,o.wg)(),(0,o.j4)(m,{key:0,sidebarWidth:s.sidebarWidth},null,8,["sidebarWidth"])):((0,o.wg)(),(0,o.j4)(p,{key:1,sidebarWidth:s.sidebarWidth},null,8,["sidebarWidth"])),(0,o.Wm)(g,{teamId:l.teamId},null,8,["teamId"])],4)):((0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(g)]))])}const l=e=>((0,o.dD)("data-v-5a28393f"),e=e(),(0,o.Cn)(),e),d=l((()=>(0,o._)("i",{class:"fi fi-rr-menu-burger"},null,-1))),c=[d],u=l((()=>(0,o._)("i",{class:"fi fi-rr-menu-burger"},null,-1))),m=l((()=>(0,o._)("h1",{class:"logo"},[(0,o.Uk)("Co"),(0,o._)("span",null,"Work")],-1))),p=[u,m],g=l((()=>(0,o._)("div",{class:"margin-block"},null,-1))),h=l((()=>(0,o._)("span",{class:"list"},"작업",-1))),b=l((()=>(0,o._)("span",{class:"list"},"파일",-1))),f=l((()=>(0,o._)("span",{class:"list"},"달력",-1))),w=l((()=>(0,o._)("span",{class:"list"},"채팅",-1))),v=l((()=>(0,o._)("span",{class:"list"},"기여도",-1)));function k(e,t,a,s,r,n){const l=(0,o.up)("SidebarLink");return(0,o.wg)(),(0,o.iD)("div",{class:"sidebar",style:(0,i.j5)({width:s.sidebarWidth})},[s.collapsed?((0,o.wg)(),(0,o.iD)("span",{key:0,class:"collapse-icon",onClick:t[0]||(t[0]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},c)):((0,o.wg)(),(0,o.iD)("span",{key:1,class:"collapse-icon",onClick:t[1]||(t[1]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},p)),g,(0,o.Wm)(l,{to:r.workUrl,icon:"fi fi-rr-rectangle-list"},{default:(0,o.w5)((()=>[h])),_:1},8,["to"]),(0,o.Wm)(l,{to:r.fileUrl,icon:"fi fi-rr-document"},{default:(0,o.w5)((()=>[b])),_:1},8,["to"]),(0,o.Wm)(l,{to:r.calendarUrl,icon:"fi fi-rr-calendar"},{default:(0,o.w5)((()=>[f])),_:1},8,["to"]),(0,o.Wm)(l,{to:r.chattingUrl,icon:"fi fi-rr-comment-alt"},{default:(0,o.w5)((()=>[w])),_:1},8,["to"]),(0,o.Wm)(l,{to:r.contributionUrl,icon:"fi fi-rs-chart-pie-alt"},{default:(0,o.w5)((()=>[v])),_:1},8,["to"])],4)}const _={key:0};function I(e,t,a,r,n,l){const d=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(d,{to:a.to,class:(0,i.C_)(["link",{active:r.isActive}])},{default:(0,o.w5)((()=>[(0,o._)("i",{class:(0,i.C_)(["icon",a.icon])},null,2),(0,o.Wm)(s.uT,{name:"fade"},{default:(0,o.w5)((()=>[r.collapsed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",_,[(0,o.WI)(e.$slots,"default",{},void 0,!0)]))])),_:3})])),_:3},8,["to","class"])}var y=a(2483),D=a(4870);const C=(0,D.iH)(!1),P=()=>C.value=!C.value,S=230,x=60,F=(0,o.Fl)((()=>`${C.value?x:S}px`));var z={props:{to:{type:String,required:!0},icon:{type:String,required:!0}},setup(e){const t=(0,y.yj)(),a=(0,o.Fl)((()=>t.path.split("/")[1]===e.to.split("/")[1]));return{isActive:a,collapsed:C}}},$=a(89);const W=(0,$.Z)(z,[["render",I],["__scopeId","data-v-432e506c"]]);var U=W,M={props:["teamId"],components:{SidebarLink:U},setup(){return{collapsed:C,toggleSidebar:P,sidebarWidth:F}},data(){return{workUrl:(0,o.Fl)((()=>"/works/"+this.teamId)),fileUrl:(0,o.Fl)((()=>"/board/list/"+this.teamId)),calendarUrl:(0,o.Fl)((()=>"/calendars/"+this.teamId)),chattingUrl:(0,o.Fl)((()=>"/chatting/"+this.teamId)),contributionUrl:(0,o.Fl)((()=>"/contribution/"+this.teamId))}}};const A=(0,$.Z)(M,[["render",k],["__scopeId","data-v-5a28393f"]]);var B=A;const L=e=>((0,o.dD)("data-v-149c796d"),e=e(),(0,o.Cn)(),e),H=L((()=>(0,o._)("i",{class:"fi fi-rr-menu-burger"},null,-1))),N=[H],O=L((()=>(0,o._)("i",{class:"fi fi-rr-menu-burger"},null,-1))),T=L((()=>(0,o._)("h1",{class:"logo"},[(0,o.Uk)("Co"),(0,o._)("span",null,"Work")],-1))),Y=[O,T],j=L((()=>(0,o._)("div",{class:"margin-block"},null,-1))),q=L((()=>(0,o._)("span",{class:"list"},"대시보드",-1))),Z=L((()=>(0,o._)("span",{class:"list"},"설정",-1)));function E(e,t,a,s,r,n){const l=(0,o.up)("SidebarLink");return(0,o.wg)(),(0,o.iD)("div",{class:"sidebar",style:(0,i.j5)({width:s.sidebarWidth})},[s.collapsed?((0,o.wg)(),(0,o.iD)("span",{key:0,class:"collapse-icon",onClick:t[0]||(t[0]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},N)):((0,o.wg)(),(0,o.iD)("span",{key:1,class:"collapse-icon",onClick:t[1]||(t[1]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},Y)),j,(0,o.Wm)(l,{to:r.dashboardUrl,icon:"fi fi-rr-apps"},{default:(0,o.w5)((()=>[q])),_:1},8,["to"]),(0,o.Wm)(l,{to:r.settingUrl,icon:"fi fi-rs-settings"},{default:(0,o.w5)((()=>[Z])),_:1},8,["to"])],4)}const V={key:0};function R(e,t,a,r,n,l){const d=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(d,{to:a.to,class:(0,i.C_)(["link",{active:r.isActive}])},{default:(0,o.w5)((()=>[(0,o._)("i",{class:(0,i.C_)(["icon",a.icon])},null,2),(0,o.Wm)(s.uT,{name:"fade"},{default:(0,o.w5)((()=>[r.collapsed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",V,[(0,o.WI)(e.$slots,"default",{},void 0,!0)]))])),_:3})])),_:3},8,["to","class"])}var K={props:{to:{type:String,required:!0},icon:{type:String,required:!0}},setup(e){const t=(0,y.yj)(),a=(0,o.Fl)((()=>t.path.split("/")[2]===e.to.split("/")[2]));return{isActive:a,collapsed:C}}};const J=(0,$.Z)(K,[["render",R],["__scopeId","data-v-3c456532"]]);var Q=J,G={props:["professorId"],components:{SidebarLink:Q},setup(){return{collapsed:C,toggleSidebar:P,sidebarWidth:F}},data(){return{dashboardUrl:(0,o.Fl)((()=>"/dashboard/professor/"+this.professorId)),settingUrl:(0,o.Fl)((()=>"/settingPro/"+this.professorId))}}};const X=(0,$.Z)(G,[["render",E],["__scopeId","data-v-149c796d"]]);var ee=X;const te=e=>((0,o.dD)("data-v-02dac064"),e=e(),(0,o.Cn)(),e),ae=te((()=>(0,o._)("i",{class:"fi fi-rr-menu-burger"},null,-1))),se=[ae],oe=te((()=>(0,o._)("i",{class:"fi fi-rr-menu-burger"},null,-1))),ie=te((()=>(0,o._)("h1",{class:"logo"},[(0,o.Uk)("Co"),(0,o._)("span",null,"Work")],-1))),re=[oe,ie],ne=te((()=>(0,o._)("div",{class:"margin-block"},null,-1))),le=te((()=>(0,o._)("span",{class:"list"},"대시보드",-1))),de=te((()=>(0,o._)("span",{class:"list"},"설정",-1)));function ce(e,t,a,s,r,n){const l=(0,o.up)("SidebarLink");return(0,o.wg)(),(0,o.iD)("div",{class:"sidebar",style:(0,i.j5)({width:s.sidebarWidth})},[s.collapsed?((0,o.wg)(),(0,o.iD)("span",{key:0,class:"collapse-icon",onClick:t[0]||(t[0]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},se)):((0,o.wg)(),(0,o.iD)("span",{key:1,class:"collapse-icon",onClick:t[1]||(t[1]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},re)),ne,(0,o.Wm)(l,{to:r.dashboardUrl,icon:"fi fi-rr-apps"},{default:(0,o.w5)((()=>[le])),_:1},8,["to"]),(0,o.Wm)(l,{to:r.settingUrl,icon:"fi fi-rs-settings"},{default:(0,o.w5)((()=>[de])),_:1},8,["to"])],4)}const ue={key:0};function me(e,t,a,r,n,l){const d=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(d,{to:a.to,class:(0,i.C_)(["link",{active:r.isActive}])},{default:(0,o.w5)((()=>[(0,o._)("i",{class:(0,i.C_)(["icon",a.icon])},null,2),(0,o.Wm)(s.uT,{name:"fade"},{default:(0,o.w5)((()=>[r.collapsed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",ue,[(0,o.WI)(e.$slots,"default",{},void 0,!0)]))])),_:3})])),_:3},8,["to","class"])}var pe={props:{to:{type:String,required:!0},icon:{type:String,required:!0}},setup(e){const t=(0,y.yj)(),a=(0,o.Fl)((()=>t.path===e.to));return{isActive:a,collapsed:C}}};const ge=(0,$.Z)(pe,[["render",me],["__scopeId","data-v-4f507538"]]);var he=ge,be={props:["studentId"],components:{SidebarLink:he},setup(){return{collapsed:C,toggleSidebar:P,sidebarWidth:F}},data(){return{dashboardUrl:(0,o.Fl)((()=>"/dashboard/student/"+this.studentId)),settingUrl:(0,o.Fl)((()=>"/settingStu/"+this.studentId))}}};const fe=(0,$.Z)(be,[["render",ce],["__scopeId","data-v-02dac064"]]);var we=fe;const ve=e=>((0,o.dD)("data-v-0636386a"),e=e(),(0,o.Cn)(),e),ke={class:"header"},_e={class:"header-info"},Ie={class:"header-right-div"},ye={class:"header-right profile"},De=["src"],Ce={class:"header-right"},Pe={class:"user-info"},Se={class:"header-right"},xe=ve((()=>(0,o._)("div",{class:"icon"},[(0,o._)("div",{class:"button-style"},[(0,o._)("i",{class:"fa-solid fa-bell icon-style"})])],-1))),Fe=[xe],ze={class:"header-left-div"},$e={class:"header-left"},We=ve((()=>(0,o._)("li",{class:"header-left"},[(0,o._)("div",{class:"share"},[(0,o._)("i",{class:"fa fa-share","aria-hidden":"true"}),(0,o._)("span",null,"  공유")])],-1)));function Ue(e,t,a,s,r,n){const l=(0,o.up)("Alarm"),d=(0,o.Q2)("click-outside");return(0,o.wg)(),(0,o.iD)("div",ke,[(0,o._)("div",_e,[(0,o._)("ul",null,[(0,o._)("div",Ie,[(0,o._)("li",ye,[(0,o._)("div",{class:"circle-profile",onClick:t[0]||(t[0]=(...e)=>n.goToMyPage&&n.goToMyPage(...e))},[(0,o._)("img",{src:s.userInfo.pictureUrl,class:"profile-user-img"},null,8,De)])]),(0,o._)("li",Ce,[(0,o._)("div",Pe,[(0,o._)("h4",null,(0,i.zw)(s.userInfo.studentNumber)+"  "+(0,i.zw)(s.userInfo.name),1),(0,o._)("h5",null,(0,i.zw)(s.userInfo.department),1)])]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("li",Se,[(0,o._)("div",{onClick:t[1]||(t[1]=(...e)=>n.controlAlarm&&n.controlAlarm(...e)),class:(0,i.C_)(["circle-notification alarm",{"alarm-clicked":r.isModalOpen}])},Fe,2),(0,o.Wm)(l,{isClicked:r.isModalOpen,onCloseAlarm:n.controlAlarm},null,8,["isClicked","onCloseAlarm"])])),[[d,n.closeAlarm]])]),(0,o._)("div",ze,[(0,o._)("li",$e,[(0,o._)("h3",null,(0,i.zw)(s.teamInfo.projectName)+" "+(0,i.zw)(s.teamInfo.teamName),1)]),We])])])])}a(7658);var Me=a(6565),Ae=a(65),Be=a(4161),Le=a(3051),He=a.n(Le);const Ne=e=>((0,o.dD)("data-v-478bf10c"),e=e(),(0,o.Cn)(),e),Oe={key:0,class:"modal"},Te={class:"modal-content"},Ye={key:0,class:"alarm"},je={class:"small-text"},qe={class:"image-container"},Ze={class:"icon"},Ee={key:0,class:"fa-solid fa-circle icon-circle"},Ve={class:"user-img"},Re=["src"],Ke={class:"content-font-size"},Je={class:"direct"},Qe=["href","onClick"],Ge=Ne((()=>(0,o._)("i",{class:"fa-solid fa-arrow-up-right-from-square"},null,-1))),Xe={key:1,class:"alarm"},et={class:"small-text"},tt={class:"image-container"},at={class:"icon"},st={key:0,class:"fa-solid fa-circle icon-circle"},ot={class:"user-img"},it=["src"],rt={class:"content-font-size"},nt={class:"rebutton-style"},lt=["onClick"],dt=["onClick"],ct={key:2,class:"no"},ut=Ne((()=>(0,o._)("div",{class:"no-icon"},[(0,o._)("i",{class:"fi fi-sr-cross-circle"})],-1))),mt=Ne((()=>(0,o._)("div",{class:"no-content"},"  거절하셨습니다.",-1))),pt=[ut,mt],gt={key:3,class:"yes"},ht=Ne((()=>(0,o._)("div",{class:"yes-icon"},[(0,o._)("i",{class:"fi fi-ss-check-circle"})],-1))),bt=Ne((()=>(0,o._)("div",{class:"yes-content"},"  수락하셨습니다.",-1))),ft=[ht,bt],wt={key:2,class:"alarm"},vt={class:"small-text"},kt={class:"image-container"},_t={class:"icon-3"},It={key:0,class:"fa-solid fa-circle icon-circle"},yt={class:"content-font-size"},Dt={data(){return{isModalOpen:!1,content:[]}}};var Ct=Object.assign(Dt,{__name:"Alarm",props:{isClicked:{type:Boolean}},setup(e){const t=e,a=(0,D.iH)([]),s=(0,Ae.oR)(),r=s.state.userStore.user_id,n=(0,D.iH)({}),l=async()=>{try{const e=await Me.be.get(`board-service/alarmList/view/${r}`);a.value=e.data.content,console.log(a.value),a.value.sort(((e,t)=>t.alarmId-e.alarmId))}catch(e){console.error("Error fetching alarms:",e)}},d=()=>{a.value.forEach((async e=>{e.seen=!0;try{await Me.be.put(`board-service/updateSeenStatus/${e.alarmId}`,{seen:!0})}catch(t){console.error("Error updating seen status:",t)}}))};(0,o.m0)((()=>{t.isClicked?l():d()}));const c=e=>{const[t,a,s,o,i]=e,r=o<12?"오전":"오후",n=o%12===0?12:o%12,l=i.toString().padStart(2,"0"),d=`${t}.${a}.${s} ${r} ${n}:${l}`;return d},u=async(e,t,a,s)=>{try{n.value[a]=s,await Me.be.post(`board-service/recomment/${e}/${t}/${s}`)}catch(o){console.error("Error reapproving:",o)}},m=async e=>{try{await Be.Z.get(`http://localhost:3210/alarm/view/${e}`)}catch(t){console.error("Error fetching alarm detail:",t)}};return(t,s)=>e.isClicked?((0,o.wg)(),(0,o.iD)("div",Oe,[(0,o._)("div",Te,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.value,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.alarmId,class:"alarm-item"},["requestFeedback"===e.alarmKind||"newWrite"===e.alarmKind||"agreeFeedback"===e.alarmKind||"denyFeedback"===e.alarmKind||"complUpdate"===e.alarmKind&&(1==e.feedbackYn||0==e.feedbackYn)?((0,o.wg)(),(0,o.iD)("div",Ye,[(0,o._)("div",je,(0,i.zw)(c(e.createdTime)),1),(0,o._)("div",qe,[(0,o._)("div",Ze,[e.seen?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("i",Ee))]),(0,o._)("div",Ve,[(0,o._)("img",{src:e.pictureUrl,alt:"이미지",class:"spaced"},null,8,Re)]),(0,o._)("div",Ke,[(0,o.Uk)((0,i.zw)(e.content)+" ",1),(0,o._)("p",Je,[(0,o._)("a",{href:e.redirectUrl+"/"+t.$route.params.teamId,onClick:t=>m(e.alarmId)},[Ge,(0,o.Uk)("바로가기")],8,Qe)])])])])):(0,o.kq)("",!0),"complUpdate"===e.alarmKind&&2==e.feedbackYn?((0,o.wg)(),(0,o.iD)("div",Xe,[(0,o._)("div",et,(0,i.zw)(c(e.createdTime)),1),(0,o._)("div",tt,[(0,o._)("div",at,[e.seen?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("i",st))]),(0,o._)("div",ot,[(0,o._)("img",{src:e.pictureUrl,alt:"이미지",class:"spaced"},null,8,it)]),(0,o._)("div",rt,(0,i.zw)(e.content),1)]),(0,o._)("div",nt,[n.value[e.alarmId]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t=>u(e.boardId,e.writerId,e.alarmId,1),class:"reagree"},"수락",8,lt)),n.value[e.alarmId]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:t=>u(e.boardId,e.writerId,e.alarmId,2),class:"redeny"},"거절",8,dt)),2==n.value[e.alarmId]?((0,o.wg)(),(0,o.iD)("div",ct,pt)):(0,o.kq)("",!0),1==n.value[e.alarmId]?((0,o.wg)(),(0,o.iD)("div",gt,ft)):(0,o.kq)("",!0)])])):(0,o.kq)("",!0),"complFeedback"===e.alarmKind?((0,o.wg)(),(0,o.iD)("div",wt,[(0,o._)("div",vt,(0,i.zw)(c(e.createdTime)),1),(0,o._)("div",kt,[(0,o._)("div",_t,[e.seen?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("i",It))]),(0,o._)("div",yt,(0,i.zw)(e.content),1)])])):(0,o.kq)("",!0)])))),128))])])):(0,o.kq)("",!0)}});const Pt=(0,$.Z)(Ct,[["__scopeId","data-v-478bf10c"]]);var St=Pt,xt={props:{teamId:{type:String}},components:{Alarm:St},directives:{clickOutside:He().directive},data(){return{isModalOpen:!1,content:[]}},setup(){const e=(0,y.yj)(),t=(0,y.tv)(),a=(0,D.iH)({}),s=(0,D.iH)({}),i=(0,Ae.oR)(),r=(0,D.iH)(i.state.userStore.user_id),n=(0,D.iH)(i.state.userStore.role),l=(0,D.iH)(0);return(0,o.wF)((async()=>{await t.isReady(),l.value=e.params.teamId,Me.be.get(`/user-service/user-info/${r.value}`).then((e=>{a.value=e.data,0==a.value.studentNumber&&(a.value.studentNumber="")})),l.value&&Me.be.get(`/dashboard-service/team-info/${l.value}`).then((e=>{s.value=e.data}))})),{userInfo:a,teamInfo:s,teamId:l,userId:r,role:n}},methods:{controlAlarm(){this.isModalOpen=!this.isModalOpen},closeAlarm(){this.isModalOpen=!1},goToMyPage(){this.$router.push(`/dashboard/${this.role}/${this.userId}`)}}};const Ft=(0,$.Z)(xt,[["render",Ue],["__scopeId","data-v-0636386a"]]);var zt=Ft;const $t=e=>((0,o.dD)("data-v-95c60bd2"),e=e(),(0,o.Cn)(),e),Wt={class:"header"},Ut={class:"header-info"},Mt={class:"header-right-div"},At={class:"header-right profile"},Bt=["src"],Lt={class:"header-right"},Ht={class:"user-info"},Nt={class:"header-right"},Ot=$t((()=>(0,o._)("div",{class:"icon"},[(0,o._)("div",{class:"button-style"},[(0,o._)("i",{class:"fa-solid fa-bell icon-style"})])],-1))),Tt=[Ot],Yt={class:"header-left-div"},jt={class:"header-left"};function qt(e,t,a,s,r,n){const l=(0,o.up)("Alarm"),d=(0,o.Q2)("click-outside");return(0,o.wg)(),(0,o.iD)("div",Wt,[(0,o._)("div",Ut,[(0,o._)("ul",null,[(0,o._)("div",Mt,[(0,o._)("li",At,[(0,o._)("div",{class:"circle-profile",onClick:t[0]||(t[0]=(...e)=>n.goToMyPage&&n.goToMyPage(...e))},[(0,o._)("img",{src:s.userInfo.pictureUrl,class:"profile-user-img"},null,8,Bt)])]),(0,o._)("li",Lt,[(0,o._)("div",Ht,[(0,o._)("h4",null,(0,i.zw)(s.userInfo.studentNumber)+"  "+(0,i.zw)(s.userInfo.name),1),(0,o._)("h5",null,(0,i.zw)(s.userInfo.department),1)])]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("li",Nt,[(0,o._)("div",{onClick:t[1]||(t[1]=(...e)=>n.controlAlarm&&n.controlAlarm(...e)),class:(0,i.C_)(["circle-notification alarm",{"alarm-clicked":r.isModalOpen}])},Tt,2),(0,o.Wm)(l,{isClicked:r.isModalOpen,onCloseAlarm:n.controlAlarm},null,8,["isClicked","onCloseAlarm"])])),[[d,n.closeAlarm]])]),(0,o._)("div",Yt,[(0,o._)("li",jt,[(0,o._)("h3",null,(0,i.zw)(s.teamInfo.projectName)+" "+(0,i.zw)(s.teamInfo.teamName),1)])])])])])}var Zt={props:{teamId:{type:String}},components:{Alarm:St},directives:{clickOutside:He().directive},data(){return{isModalOpen:!1,content:[]}},setup(){const e=(0,y.yj)(),t=(0,y.tv)(),a=(0,D.iH)({}),s=(0,D.iH)({}),i=(0,Ae.oR)(),r=(0,D.iH)(i.state.userStore.user_id),n=(0,D.iH)(i.state.userStore.role),l=(0,D.iH)(0);return(0,o.wF)((async()=>{await t.isReady(),l.value=e.params.teamId,Me.be.get(`/user-service/user-info/${r.value}`).then((e=>{a.value=e.data,0==a.value.studentNumber&&(a.value.studentNumber="")})),l.value&&Me.be.get(`/dashboard-service/team-info/${l.value}`).then((e=>{s.value=e.data}))})),{userInfo:a,teamInfo:s,teamId:l,userId:r,role:n}},methods:{controlAlarm(){this.isModalOpen=!this.isModalOpen},closeAlarm(){this.isModalOpen=!1},goToMyPage(){this.$router.push(`/dashboard/${this.role}/${this.userId}`)}}};const Et=(0,$.Z)(Zt,[["render",qt],["__scopeId","data-v-95c60bd2"]]);var Vt=Et,Rt={components:{Sidebar:B,Header:zt,FirstSidebar:ee,SecondSidebar:we,HeaderDashboard:Vt},setup(){return{sidebarWidth:F}},computed:{teamId(){return this.$route.params.teamId},professorId(){return this.$route.params.professorId},studentId(){return this.$route.params.studentId}}};const Kt=(0,$.Z)(Rt,[["render",n]]);var Jt=Kt,Qt=a(3207),Gt=a(5389),Xt=(a(1129),a(2108)),ea=a(7729),ta=a(4695),aa=a(2164),sa=a(4849),oa=a(4914);const ia="\n                .p-multiselect{\n                    width: 100%;\n                    height: 100%;\n                }\n                .p-multiselect-label-container{\n                    margin-top: 5px;\n                }\n                .p-multiselect-trigger{\n                    color: white;\n                }\n                .p-multiselect-header .p-checkbox{\n                    display: none;\n                }\n                .p-checkbox .p-highlight{\n                    background-color: #3772FF;\n                    width: 20px;\n                    border-radius : 4px;\n                    border: 1px solid #3772FF;\n                }\n                .p-highlight{\n                    background-color: #F5F6FA;\n                }\n                .p-multiselect-item:hover{\n                    background-color: #F5F6FA;\n                }\n                .p-multiselect-item{\n                    padding: 5px;\n                }\n                .p-checkbox-icon{\n                    color: white;\n                    width: 13px;\n                    margin-left: 1.5px;\n                }\n                .p-checkbox-box{\n                    width: 20px;\n                    height: 20px;\n                    border: 1px solid #8F8F8F;\n                    border-radius: 5px;\n                    margin-left: 10px;\n                    display: flex;\n                }\n                \n                .p-multiselect-items{\n                    margin-top: 15px;\n                    margin-bottom: 10px;\n                }\n                \n                .p-multiselect-panel{\n                    pisition: relative;\n                    background-color: white;\n                    z-index: 10;\n                    box-shadow: 0 0 8px rgba(0,0,0,0.2);\n                    border-radius : 15px;\n                    margin-top: 15px;\n                }\n               \n                .p-multiselect-filter-container{\n                    margin-bottom : 0px;\n                    display: flex;\n                    padding: 20px;\n                    padding-bottom: 0px;\n                }\n                .p-multiselect-filter-container input{\n                    margin-right: 5px;\n                    border: 0.1px solid #F0EFEF;\n                    box-shadow: 0 0 5px rgba(0,0,0,0.2);\n                    border-radius: 5px;\n                    height: 30px;\n                }\n            \n            ",ra="\n                .p-dropdown {\n                    width: 100%;\n                    height: 100%;\n                    padding: 15px;\n                }\n                .p-dropdown-panel{\n                    pisition: relative;\n                    background-color: white;\n                    z-index: 10;\n                    box-shadow: 0 0 8px rgba(0,0,0,0.2);\n                    border-radius : 15px;\n                    margin-top: 15px;\n                }\n                .p-dropdown-item{\n                    padding: 5px;\n                    border-bottom: 1.5px solid #F0EFEF;\n                }\n                .p-dropdown-item:hover{\n                    background-color: #F5F6FA;\n                }\n                .p-dropdown-items-wrapper{\n                    margin-top: 10px;\n                    margin-bottom: 10px;\n                }\n                .p-dropdown-trigger{\n                    display: none;\n                }\n",na="\n                .p-rating{\n                    width: 100%;\n                    justify-content : center;\n                }\n                .p-rating-item {\n                    color: #8F8F8F;\n                }\n                .p-rating-item-active{\n                    color: #3772FF;\n                }\n                .p-rating-cancel-item {\n                    display: none;\n                }\n",la="\n                .p-radiobutton{\n                    border: 1.5px solid #BFBFBF;\n                    width: 18px;\n                    height: 18px;\n                    border-radius: 20px;\n                    margin-bottom: 3px;\n                    text-align: center;\n                }\n                .p-radiobutton:hover{\n                    border: 1.5px solid #3772FF;\n                }\n                .p-radiobutton-checked{\n                    border: 1.5px solid #3772FF;\n                    background-color: #3772FF;\n                }\n",da="\n                .p-avatar{\n                    background-color: #D5D9EA;\n                }\n                .p-avatar-text{\n                    font-weight: 600;\n                    font-size: 15px;\n\n                }\n                .p-avatar-group{\n                    padding: 10px;\n                    padding-left: 30px;\n                }\n",ca=ia+ra+na+la+da;var ua=ca,ma=a(7528),pa=a(5401),ga=a(4237);a(4415),a(6744);const ha=(0,s.ri)(Jt);ha.use(Qt.Z),ha.use(ga.Z),ha.use(ea.ZP,{pt:{global:{css:ua}}}),ha.use(Gt.Z),ha.use(He()),ha.component("VueDatePicker",Xt.Z),ha.component("MultiSelect",ta.Z),ha.component("Dropdown",aa.Z),ha.component("Rating",sa.Z),ha.component("RadioButton",oa.Z),ha.component("Avatar",ma.Z),ha.component("AvatarGroup",pa.Z),ha.mount("#app")},3207:function(e,t,a){a.d(t,{Z:function(){return Vr}});var s=a(2483),o=a(3396),i=a(7139),r=a(9242);const n=e=>((0,o.dD)("data-v-10cf05a6"),e=e(),(0,o.Cn)(),e),l={class:"work-page"},d={class:"work"},c=(0,o.uE)('<div class="type" data-v-10cf05a6><button class="type-list" data-v-10cf05a6><i class="fa fa-list-ul" aria-hidden="true" data-v-10cf05a6></i></button><button class="type-card" data-v-10cf05a6><div data-v-10cf05a6><i class="fi fi-rr-apps" data-v-10cf05a6></i></div></button></div>',1),u=n((()=>(0,o._)("button",{class:"add-work"},[(0,o._)("i",{class:"fi fi-br-plus"}),(0,o._)("span",null,"생성")],-1))),m=[u],p=n((()=>(0,o._)("div",{class:"header-margin"},null,-1))),g={class:"work-info"},h=n((()=>(0,o._)("div",{class:"margin-space"},null,-1))),b=["id"],f={key:0},w={class:"work-name"},v=["onUpdate:modelValue","onChange"],k=["onUpdate:modelValue","onChange"],_={class:"team-members"},I={class:"end-date"},y={class:"importance"},D={class:"status"},C=["onClick","onBlur"],P={key:0,class:"fi fi-rr-menu-dots-vertical"},S={key:0,class:"more-options"},x=["onMousedown"],F=n((()=>(0,o._)("i",{class:"fi fi-rs-search"},null,-1))),z=[F],$={key:0},W={class:"work-name"},U=["onUpdate:modelValue","onChange"],M={class:"team-members"},A={class:"end-date"},B={class:"importance"},L={class:"status"},H=["onClick","onBlur"],N={key:0,class:"fi fi-rr-menu-dots-vertical"},O={key:0,class:"more-options"},T=["onMousedown"],Y=n((()=>(0,o._)("i",{class:"fi fi-rs-search"},null,-1))),j=[Y],q=n((()=>(0,o._)("div",{class:"footer"},null,-1)));function Z(e,t,a,s,n,u){const F=(0,o.up)("WorkDetail"),Y=(0,o.up)("MultiSelect"),Z=(0,o.up)("DatePicker"),E=(0,o.up)("Rating"),V=(0,o.up)("StatusDropdown"),R=(0,o.up)("DeleteButton");return(0,o.wg)(),(0,o.iD)("div",l,[n.detailButtonClick&&s.membersById&&n.detailWorkId>0?((0,o.wg)(),(0,o.j4)(F,{key:0,teamMembers:s.membersById,workId:n.detailWorkId,teamId:s.teamId,onCloseDetail:t[0]||(t[0]=e=>n.detailButtonClick=!1),onOpenDetail:t[1]||(t[1]=e=>n.detailButtonClick=!0)},null,8,["teamMembers","workId","teamId"])):(0,o.kq)("",!0),(0,o._)("div",d,[c,"student"==s.role?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"add-button",onClick:t[2]||(t[2]=(...e)=>u.addWork&&u.addWork(...e))},m)):(0,o.kq)("",!0),p,(0,o._)("table",null,[(0,o._)("thead",g,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.options,((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},(0,i.zw)(e),1)))),128))])]),h,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.workInfo,((e,a)=>((0,o.wg)(),(0,o.iD)("tbody",{key:a,id:e.work_id,class:"work-row"},[1!=n.deletedWork[e.work_id]?((0,o.wg)(),(0,o.iD)("tr",f,[(0,o._)("td",w,["student"==s.role?(0,o.wy)(((0,o.wg)(),(0,o.iD)("textarea",{key:0,"onUpdate:modelValue":t=>e.work_name=t,onInput:t[3]||(t[3]=e=>u.resize(e.target)),onChange:t=>u.textChange(e.work_id,t.target.value),class:"work-name-input"},null,40,v)),[[r.nr,e.work_name]]):(0,o.wy)(((0,o.wg)(),(0,o.iD)("textarea",{key:1,disabled:"","onUpdate:modelValue":t=>e.work_name=t,onInput:t[4]||(t[4]=e=>u.resize(e.target)),onChange:t=>u.textChange(e.work_id,t.target.value),class:"work-name-input"},null,40,k)),[[r.nr,e.work_name]])]),(0,o._)("td",_,[null!==s.membersById?((0,o.wg)(),(0,o.j4)(Y,{key:0,teamMembers:s.membersById,workers:e.worker,workId:e.work_id,teamId:s.teamId,role:s.role},null,8,["teamMembers","workers","workId","teamId","role"])):(0,o.kq)("",!0)]),(0,o._)("td",I,[(0,o.Wm)(Z,{endDate:e.end_date,workId:e.work_id,teamId:s.teamId,role:s.role},null,8,["endDate","workId","teamId","role"])]),(0,o._)("td",y,[(0,o.Wm)(E,{importance:e.importance,workId:e.work_id,teamId:s.teamId,role:s.role},null,8,["importance","workId","teamId","role"])]),(0,o._)("td",D,[(0,o.Wm)(V,{status:e.status,workId:e.work_id,teamId:s.teamId,role:s.role},null,8,["status","workId","teamId","role"])]),(0,o._)("td",{class:(0,i.C_)(["more",{active:n.button[e.work_id]}])},[(0,o._)("button",{onClick:t=>u.buttonClick(e.work_id),onBlur:t=>u.buttonUnclick(e.work_id)},[1!=n.button[e.work_id]?((0,o.wg)(),(0,o.iD)("i",P)):(0,o.kq)("",!0),"student"==s.role&&n.button[e.work_id]?((0,o.wg)(),(0,o.j4)(R,{key:1,workId:e.work_id,teamId:s.teamId,onDeleteWork:u.deleteWork},null,8,["workId","teamId","onDeleteWork"])):(0,o.kq)("",!0)],40,C)],2),n.button[e.work_id]?((0,o.wg)(),(0,o.iD)("td",S,[(0,o._)("div",{class:"detail",onMousedown:t=>u.workDetailClick(e.work_id)},z,40,x)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)],8,b)))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.addedWorks,((e,a)=>((0,o.wg)(),(0,o.iD)("tbody",{key:a},[1!=n.deletedWork[e.work_id]?((0,o.wg)(),(0,o.iD)("tr",$,[(0,o._)("td",W,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t=>e.work_name=t,onInput:t[5]||(t[5]=e=>u.resize(e.target)),onChange:t=>u.textChange(e.work_id,t.target.value),class:"work-name-input"},null,40,U),[[r.nr,e.work_name]])]),(0,o._)("td",M,[(0,o.Wm)(Y,{teamMembers:s.membersById,workId:e.work_id,teamId:s.teamId},null,8,["teamMembers","workId","teamId"])]),(0,o._)("td",A,[(0,o.Wm)(Z,{endDate:e.end_date,workId:e.work_id,teamId:s.teamId},null,8,["endDate","workId","teamId"])]),(0,o._)("td",B,[(0,o.Wm)(E,{importance:e.importance,workId:e.work_id,teamId:s.teamId},null,8,["importance","workId","teamId"])]),(0,o._)("td",L,[(0,o.Wm)(V,{status:e.status,workId:e.work_id,teamId:s.teamId},null,8,["status","workId","teamId"])]),(0,o._)("td",{class:(0,i.C_)(["more",{active:n.button}])},[(0,o._)("button",{onClick:t=>u.buttonClick(e.work_id),onBlur:t=>u.buttonUnclick(e.work_id)},[1!=n.button[e.work_id]?((0,o.wg)(),(0,o.iD)("i",N)):(0,o.kq)("",!0),n.button[e.work_id]?((0,o.wg)(),(0,o.j4)(R,{key:1,workId:e.work_id,teamId:s.teamId,onDeleteWork:u.deleteWork},null,8,["workId","teamId","onDeleteWork"])):(0,o.kq)("",!0)],40,H)],2),n.button[e.work_id]?((0,o.wg)(),(0,o.iD)("td",O,[(0,o._)("div",{class:"detail",onMousedown:t=>u.workDetailClick(e.work_id)},j,40,T)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])))),128))]),q])])}a(7658);var E=a(4870),V=a(5743),R=a.n(V),K=a(5706),J=a(6565);const Q={key:0,class:"end-date"},G={class:"ymd"},X={key:0,class:"hm"},ee={key:1,class:"hm"},te={key:1,class:"end-date end-date-2"};var ae={__name:"DatePicker",props:{endDate:String,workId:{type:Number,default:0},teamId:{type:Number,default:0},role:{type:String,defulat:"student"}},setup(e){const t=e;let a=0;const s=(0,E.iH)(new Date);"null"==t.endDate||null==t.endDate?a=1:s.value=new Date(t.endDate);const r={year:"",month:"",day:"",hour:"",minute:""};let n=0;n=(0,o.Fl)((()=>12<=s.value.getHours()?0:1)),r.year=(0,o.Fl)((()=>s.value.getFullYear())),r.month=(0,o.Fl)((()=>s.value.getMonth()+1)),r.day=(0,o.Fl)((()=>s.value.getDate())),r.hour=(0,o.Fl)((()=>s.value.getHours())),r.minute=(0,o.Fl)((()=>s.value.getMinutes()));const l=()=>{a=0,J.be.patch(`/work-service/works/${t.teamId}/${t.workId}/end_date`,{end_date:R()(s.value).format("YYYY-MM-DD HH:mm:ss")}).then((e=>{console.log(e)})).catch((e=>{}))};return(t,d)=>{const c=(0,o.up)("VueDatePicker");return(0,o.wg)(),(0,o.j4)(c,{disabled:"professor"==e.role,modelValue:s.value,"onUpdate:modelValue":[d[0]||(d[0]=e=>s.value=e),l],"format-locale":(0,E.SU)(K.Z),"min-date":new Date,"time-picker-inline":""},{trigger:(0,o.w5)((()=>[0==(0,E.SU)(a)?((0,o.wg)(),(0,o.iD)("div",Q,[(0,o._)("p",G,(0,i.zw)(r.year)+"년 "+(0,i.zw)(r.month)+"월 "+(0,i.zw)(r.day)+"일",1),(0,E.SU)(n)?((0,o.wg)(),(0,o.iD)("p",X,"오전 "+(0,i.zw)(r.hour)+"시 "+(0,i.zw)(r.minute)+"분",1)):((0,o.wg)(),(0,o.iD)("p",ee,"오후 "+(0,i.zw)(r.hour)+"시 "+(0,i.zw)(r.minute)+"분",1))])):((0,o.wg)(),(0,o.iD)("div",te))])),_:1},8,["disabled","modelValue","format-locale","min-date"])}}},se=a(89);const oe=(0,se.Z)(ae,[["__scopeId","data-v-4aba225d"]]);var ie=oe,re=a(4695);const ne=e=>((0,o.dD)("data-v-546919cc"),e=e(),(0,o.Cn)(),e),le={class:"all"},de={key:0,class:"multi-value"},ce={key:1},ue=["src"],me={class:"user-name"},pe={key:2,class:"values"},ge={key:3},he=["src"],be={class:"user-name"},fe=ne((()=>(0,o._)("div",{class:"filter-icon"},[(0,o._)("i",{class:"fi fi-rr-search"})],-1))),we={class:"options"},ve=["src"],ke={class:"option-name"},_e=ne((()=>(0,o._)("p",null,null,-1)));var Ie={__name:"MultiSelect",props:{teamMembers:{type:Object,default:{}},workers:{type:String,default:null},workId:{type:Number,default:0},teamId:{type:Number,default:0},role:{type:String,default:"student"}},setup(e){const t=e,a=Object.values(t.teamMembers);let s=[];const r=(0,E.iH)([]);if(console.log(t.workers),console.log(t.teamMembers),null!==t.workers){s=t.workers.split(";");for(let e of s)r.value.push(t.teamMembers[e])}let n=-1,l=!1,d=[];const c=()=>{n=1,d=[]};let u=()=>{if(1==l){for(let e of r.value)d.push(e.id);J.be.patch(`/work-service/works/${t.teamId}/${t.workId}/worker`,{worker:d}).then((e=>{console.log(e)})).catch((e=>{}))}n=-1,l=!1};const m=()=>{l=!0};return(t,s)=>((0,o.wg)(),(0,o.iD)("div",le,[(0,o.Wm)((0,E.SU)(re.Z),{disabled:"professor"==e.role,modelValue:r.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>r.value=e),m],options:(0,E.SU)(a),filter:"",optionLabel:"user_name",display:"comma",closeIcon:"false",onBeforeShow:c,onBeforeHide:(0,E.SU)(u),emptyFilterMessage:" ",class:"multi-select"},{value:(0,o.w5)((()=>[(0,o._)("div",null,[r.value&&r.value.length>=2&&1==(0,E.SU)(n)?((0,o.wg)(),(0,o.iD)("div",de,(0,i.zw)(r.value.length)+"명이 선택되었습니다. ",1)):r.value&&1==r.value.length&&1==(0,E.SU)(n)?((0,o.wg)(),(0,o.iD)("div",ce,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.value,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"values"},[(0,o._)("img",{class:"user-img",src:e.pictureUrl},null,8,ue),(0,o._)("span",me,(0,i.zw)(e.studentNumber)+"  "+(0,i.zw)(e.name),1)])))),128))])):1==(0,E.SU)(n)?((0,o.wg)(),(0,o.iD)("div",pe)):(0,o.kq)("",!0),-1==(0,E.SU)(n)?((0,o.wg)(),(0,o.iD)("div",ge,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.value,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"values"},[(0,o._)("img",{class:"user-img",src:e.pictureUrl},null,8,he),(0,o._)("span",be,(0,i.zw)(e.studentNumber)+"  "+(0,i.zw)(e.name),1)])))),128))])):(0,o.kq)("",!0)])])),filtericon:(0,o.w5)((()=>[fe])),option:(0,o.w5)((e=>[(0,o._)("div",we,[(0,o._)("img",{class:"option-img",src:e.option.pictureUrl},null,8,ve),(0,o._)("div",ke,(0,i.zw)(e.option.studentNumber)+" "+(0,i.zw)(e.option.name),1)])])),empty:(0,o.w5)((()=>[_e])),_:1},8,["disabled","modelValue","options","onBeforeHide"])]))}};const ye=(0,se.Z)(Ie,[["__scopeId","data-v-546919cc"]]);var De=ye;const Ce=e=>((0,o.dD)("data-v-5f8b21d6"),e=e(),(0,o.Cn)(),e),Pe={class:"card flex justify-content-center"},Se={class:"current-status-name"},xe={key:1,class:"not-started"},Fe=Ce((()=>(0,o._)("div",{class:"not-started-name"},"시작 전",-1))),ze=[Fe],$e={class:"options"},We={class:"status"},Ue={class:"status-name"};var Me={__name:"StatusDropdown",props:{status:{type:Number,defaule:1},workId:{type:Number,default:0},teamId:{type:Number,default:0},role:{type:String,default:"student"}},setup(e){const t=e,a=t.status,s=(0,E.iH)([{name:"시작 전",code:1},{name:"진행 중",code:2},{name:"피드백 중",code:3},{name:"완료",code:4}]),r=(0,E.iH)(s.value[a-1]),n=["#DFDFDF","#DFDFDF","#5D96DA","#FF7171","#99CC8C"],l=()=>{J.be.patch(`work-service/works/${t.teamId}/${t.workId}/status`,{status:r.value.code}).then((e=>{console.log(e)})).catch((e=>{}))};return(t,a)=>{const d=(0,o.up)("Dropdown");return(0,o.wg)(),(0,o.iD)("div",Pe,[(0,o.Wm)(d,{disabled:"professor"==e.role,modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),options:s.value,optionLabel:"name",onChange:l,class:"w-full md:w-14rem",dropdownIcon:" "},{value:(0,o.w5)((()=>[r.value&&1!=r.value.code?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"current-status",style:(0,i.j5)({background:n[r.value.code]})},[(0,o._)("div",Se,(0,i.zw)(r.value.name),1)],4)):((0,o.wg)(),(0,o.iD)("div",xe,ze))])),option:(0,o.w5)((e=>[(0,o._)("div",$e,[(0,o._)("div",We,[(0,o._)("i",{class:"fas fa-tag",style:(0,i.j5)({color:n[e.option.code]})},null,4),(0,o._)("div",Ue,(0,i.zw)(e.option.name),1)])])])),_:1},8,["disabled","modelValue","options"])])}}};const Ae=(0,se.Z)(Me,[["__scopeId","data-v-5f8b21d6"]]);var Be=Ae;const Le={class:"card flex justify-content-center"};var He={__name:"Rating",props:{importance:{type:Number,default:1},workId:{type:Number,default:0},teamId:{type:Number,default:0},role:{type:String,default:"student"}},setup(e){const t=e,a=(0,E.iH)(t.importance),s=()=>{J.be.patch(`/work-service/works/${t.teamId}/${t.workId}/importance`,{importance:a.value}).then((e=>{console.log(e)})).catch((e=>{}))};return(t,i)=>{const r=(0,o.up)("Rating",!0);return(0,o.wg)(),(0,o.iD)("div",Le,[(0,o.Wm)(r,{disabled:"professor"==e.role,modelValue:a.value,"onUpdate:modelValue":[i[0]||(i[0]=e=>a.value=e),s],cancel:!1},null,8,["disabled","modelValue"])])}}};const Ne=He;var Oe=Ne;const Te=e=>((0,o.dD)("data-v-0fb491dd"),e=e(),(0,o.Cn)(),e),Ye=Te((()=>(0,o._)("i",{class:"fi fi-rs-trash"},null,-1))),je=[Ye];var qe={__name:"DeleteButton",props:{workId:{type:Number,default:0},teamId:{type:Number,default:0}},emits:["deleteWork"],setup(e,{emit:t}){const a=e,s=()=>{console.log("delete "+a.workId),J.be.delete(`/work-service/works/${a.workId}`).then((e=>{console.log(e)})).catch((e=>{})),t("deleteWork",a.workId)};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"delete",onClick:s},je))}};const Ze=(0,se.Z)(qe,[["__scopeId","data-v-0fb491dd"]]);var Ee=Ze;const Ve=e=>((0,o.dD)("data-v-992b9d6a"),e=e(),(0,o.Cn)(),e),Re={class:"header"},Ke=Ve((()=>(0,o._)("i",{class:"fi fi-sr-cross"},null,-1))),Je=[Ke],Qe={class:"content"},Ge={class:"options option-status"},Xe=Ve((()=>(0,o._)("div",{class:"icon"},[(0,o._)("i",{class:"fi fi-rr-loading"})],-1))),et=Ve((()=>(0,o._)("div",{class:"option-name"},"상태",-1))),tt={class:"options option-worker"},at=Ve((()=>(0,o._)("div",{class:"icon"},[(0,o._)("i",{class:"fi fi-sr-users"})],-1))),st=Ve((()=>(0,o._)("div",{class:"option-name"},"담당자",-1))),ot={class:"workers"},it=["src"],rt={class:"user-name"},nt={class:"options option-end-date"},lt=Ve((()=>(0,o._)("div",{class:"icon"},[(0,o._)("i",{class:"fi fi-br-time-past"})],-1))),dt=Ve((()=>(0,o._)("div",{class:"option-name"},"마감일",-1))),ct={key:0,class:"end-date"},ut={class:"ymd"},mt={key:0,class:"hm"},pt={key:1,class:"hm"},gt={class:"options"},ht=Ve((()=>(0,o._)("div",{class:"icon"},[(0,o._)("i",{class:"fa fa-star"})],-1))),bt=Ve((()=>(0,o._)("div",{class:"option-name"},"중요도",-1))),ft={class:"importance"},wt=(0,o.uE)('<div class="line" data-v-992b9d6a></div><div class="options" data-v-992b9d6a><div class="icon" data-v-992b9d6a><i class="fi fi-br-clip" data-v-992b9d6a></i></div><div class="option-name" data-v-992b9d6a>게시글</div></div>',2),vt={class:"board"},kt=Ve((()=>(0,o._)("i",{class:"fi fi-sr-document"},null,-1))),_t={class:"title"},It=Ve((()=>(0,o._)("span",{class:"uploaded-by"},"uploaded by",-1))),yt=["src"],Dt={class:"poster"};var Ct={__name:"WorkDetail",props:{workId:{type:Number,default:0},teamMembers:{type:Object,default:{}},teamId:{type:Number,default:0}},emits:["closeDetail","openDetail"],setup(e,{emit:t}){const a=e,s=(0,E.iH)();let r=[],n=(0,E.iH)();const l=(0,E.iH)(),d=(0,E.iH)(),c=(0,E.iH)(a.teamMembers);console.log("팀 멤버 : ",c.value),a.workId>0&&J.be.get(`/work-service/works-detail/${a.workId}`).then((e=>{s.value=e.data.result,s.value.worker&&(r=(0,E.iH)(s.value.worker.split(";"))),n.value=new Date(s.value.end_date),l.value=e.data.result.boards,d.value=s.value.importance}));const u=(0,E.iH)([{name:"시작 전",code:1},{name:"진행 중",code:2},{name:"피드백 중",code:3},{name:"완료",code:4}]),m=["#DFDFDF","#DFDFDF","#5D96DA","#FF7171","#99CC8C"],p=["black","black","white","white","white"],g={year:"",month:"",day:"",hour:"",minute:""};let h=0;h=(0,o.Fl)((()=>12<=n.value.getHours()?0:1)),g.year=(0,o.Fl)((()=>n.value.getFullYear())),g.month=(0,o.Fl)((()=>n.value.getMonth()+1)),g.day=(0,o.Fl)((()=>n.value.getDate())),g.hour=(0,o.Fl)((()=>n.value.getHours())),g.minute=(0,o.Fl)((()=>n.value.getMinutes()));const b=e=>{e.stopPropagation(),t("openDetail")},f=()=>{t("closeDetail")};return(e,t)=>{const a=(0,o.up)("Rating");return s.value?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"black-bg",onMousedown:f},[(0,o._)("div",{class:"white-bg",onMousedown:b},[(0,o._)("div",Re,[(0,o._)("h2",null,(0,i.zw)(s.value.work_name),1),(0,o._)("div",{class:"close-icon",onClick:t[0]||(t[0]=t=>e.$emit("closeDetail"))},Je)]),(0,o._)("div",Qe,[(0,o._)("div",Ge,[Xe,et,(0,o._)("div",{class:"status",style:(0,i.j5)({background:m[u.value[s.value.status-1].code],color:p[u.value[s.value.status-1].code]})},(0,i.zw)(u.value[s.value.status-1].name),5)]),(0,o._)("div",tt,[at,st,(0,o._)("div",ot,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,E.SU)(r),((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"worker"},[(0,o._)("img",{class:"user-img",src:c.value[e].pictureUrl},null,8,it),(0,o._)("span",rt,(0,i.zw)(c.value[e].name),1)])))),128))])]),(0,o._)("div",nt,[lt,dt,null!=s.value.end_date?((0,o.wg)(),(0,o.iD)("div",ct,[(0,o._)("span",ut,(0,i.zw)(g.year)+"년 "+(0,i.zw)(g.month)+"월 "+(0,i.zw)(g.day)+"일 ",1),(0,E.SU)(h)?((0,o.wg)(),(0,o.iD)("span",mt,"오전 "+(0,i.zw)(g.hour)+"시 "+(0,i.zw)(g.minute)+"분",1)):((0,o.wg)(),(0,o.iD)("span",pt,"오후 "+(0,i.zw)(g.hour)+"시 "+(0,i.zw)(g.minute)+"분",1))])):(0,o.kq)("",!0)]),(0,o._)("div",gt,[ht,bt,(0,o._)("div",ft,[(0,o.Wm)(a,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),cancel:!1,readonly:""},null,8,["modelValue"])])]),wt,(0,o._)("div",vt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.value,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"posts"},[kt,(0,o._)("span",_t,(0,i.zw)(e.title),1),It,(0,o._)("img",{class:"profile-img",src:c.value[e.userId].pictureUrl},null,8,yt),(0,o._)("span",Dt,(0,i.zw)(c.value[e.userId].name),1)])))),128))])])],32)],32)):(0,o.kq)("",!0)}}};const Pt=(0,se.Z)(Ct,[["__scopeId","data-v-992b9d6a"]]);var St=Pt,xt=a(65),Ft={components:{DatePicker:ie,MultiSelect:De,StatusDropdown:Be,Rating:Oe,DeleteButton:Ee,WorkDetail:St},setup(){const e=(0,s.yj)(),t=(0,s.tv)(),a=(0,E.iH)(),i=(0,E.iH)(),r=(0,E.iH)(),n={},l=(0,xt.oR)(),d=l.state.userStore.role;return(0,o.wF)((async()=>{await t.isReady(),r.value=e.params.teamId,J.be.get(`/work-service/works/${r.value}`).then((e=>{console.log(e),a.value=e.data.result.teamMembers,i.value=e.data.result.works,a.value.forEach(((e,t,a)=>{n[e.id]=e}))})).catch((e=>{console.log(e)}))})),{workInfo:i,teamMembers:a,membersById:n,teamId:r,role:d}},data(){return{options:["작업명","담당자","마감일","중요도","상태"],addedWorks:[],button:{},deletedWork:{},detailWorkId:0,detailButtonClick:!1}},methods:{resize(e){e.style.height="0.5px",e.style.height=e.scrollHeight+"px"},textChange(e,t){J.be.patch(`/work-service/works/${this.teamId}/${e}/work_name`,{work_name:t}).then((e=>{console.log(e)})).catch((e=>{}))},addWork(){const e=(0,E.iH)();J.be.post(`/work-service/works/${this.teamId}`).then((t=>{console.log(t),e.value=t.data.result.work_id,console.log(e)})).catch((e=>{})),this.addedWorks.push({work_id:e})},buttonClick(e){this.button[e]=!0},buttonUnclick(e){this.button[e]=!1},deleteWork(e){this.deletedWork[e]=!0},workDetailClick(e){this.detailWorkId=e,this.detailButtonClick=!0}}};const zt=(0,se.Z)(Ft,[["render",Z],["__scopeId","data-v-10cf05a6"]]);var $t=zt;const Wt=e=>((0,o.dD)("data-v-6b42fca2"),e=e(),(0,o.Cn)(),e),Ut={key:0,class:"loading-container"},Mt={key:1},At={key:1,class:"container"},Bt={class:"feedback-status"},Lt={class:"feedback-completed"},Ht=Wt((()=>(0,o._)("div",{class:"icon-blue i-completed"},[(0,o._)("i",{class:"fi fi-br-check"})],-1))),Nt=Wt((()=>(0,o._)("div",{class:"feedback-count-label"},[(0,o.Uk)("완료한 피드백 "),(0,o._)("i",{class:"fi fi-bs-menu-dots"})],-1))),Ot={class:"feedback-count"},Tt={class:"feedback-incomplete"},Yt=Wt((()=>(0,o._)("div",{class:"icon-blue"},[(0,o._)("i",{class:"fi fi-rs-comment-dots"})],-1))),jt=Wt((()=>(0,o._)("div",{class:"feedback-count-label"},[(0,o.Uk)("남은 피드백 "),(0,o._)("i",{class:"fi fi-bs-menu-dots"})],-1))),qt={class:"feedback-count"},Zt={class:"table-container"},Et={class:"search-container"},Vt=Wt((()=>(0,o._)("div",{class:"file-letter"},"파일",-1))),Rt={key:0,class:"write-button-container"},Kt={class:"search-dropdown"},Jt={class:"search-input-container"},Qt=Wt((()=>(0,o._)("i",{class:"fi fi-br-search"},null,-1))),Gt={class:"table custom-table"},Xt=Wt((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"번호"),(0,o._)("th",null,"작업 이름"),(0,o._)("th",null,"제목"),(0,o._)("th",null," 작성자"),(0,o._)("th",null,"작성일"),(0,o._)("th",null,"피드백 여부"),(0,o._)("th",null,"조회수")])],-1))),ea=Wt((()=>(0,o._)("div",{class:"margin-space"},null,-1))),ta={key:0},aa={class:"work-name-container"},sa=Wt((()=>(0,o._)("i",{class:"fa-solid fa-tag"},null,-1))),oa={class:"title"},ia={class:"writer"},ra=["src"],na=Wt((()=>(0,o._)("i",{class:"fa-solid fa-circle text-green"},null,-1))),la=[na],da={key:0},ca={class:"work-name-container"},ua=Wt((()=>(0,o._)("i",{class:"fa-solid fa-tag"},null,-1))),ma={class:"title"},pa={class:"writer"},ga=["src"],ha=Wt((()=>(0,o._)("i",{class:"fa-solid fa-circle text-red"},null,-1))),ba=[ha],fa={key:0},wa={class:"work-name-container"},va=Wt((()=>(0,o._)("i",{class:"fa-solid fa-tag"},null,-1))),ka={class:"title"},_a={class:"writer"},Ia=["src"],ya=Wt((()=>(0,o._)("i",{class:"fa-solid fa-circle text-gray"},null,-1))),Da=[ya],Ca={key:3},Pa={class:"work-name-container"},Sa=Wt((()=>(0,o._)("i",{class:"fa-solid fa-tag"},null,-1))),xa={class:"title"},Fa={class:"writer"},za=["src"],$a={key:2},Wa={key:0,class:"pagination"},Ua=Wt((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-left"},null,-1))),Ma=[Ua],Aa=["onClick"],Ba=Wt((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-right"},null,-1))),La=[Ba],Ha={key:1,class:"pagination"},Na=Wt((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-left"},null,-1))),Oa=[Na],Ta=["onClick"],Ya=Wt((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-right"},null,-1))),ja=[Ya],qa={key:2,class:"pagination"},Za=Wt((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-left"},null,-1))),Ea=[Za],Va=["onClick"],Ra=Wt((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-right"},null,-1))),Ka=[Ra],Ja={key:3,class:"pagination"},Qa=Wt((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-left"},null,-1))),Ga=[Qa],Xa=["onClick"],es=Wt((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-right"},null,-1))),ts=[es];function as(e,t,a,s,n,l){const d=(0,o.up)("Loader"),c=(0,o.up)("ProfessorView"),u=(0,o.up)("BoardDropdown"),m=(0,o.up)("router-link");return n.loading?((0,o.wg)(),(0,o.iD)("div",Ut,[(0,o.Wm)(d)])):((0,o.wg)(),(0,o.iD)("div",Mt,["professor"==n.role?((0,o.wg)(),(0,o.j4)(c,{key:0,teamId:a.teamId},null,8,["teamId"])):((0,o.wg)(),(0,o.iD)("div",At,[(0,o._)("div",Bt,[(0,o._)("div",Lt,[Ht,Nt,(0,o._)("div",Ot,(0,i.zw)(l.feedbackCompletedCount),1)]),(0,o._)("div",Tt,[Yt,jt,(0,o._)("div",qt,(0,i.zw)(l.feedbackIncompleteCount),1)])]),(0,o._)("div",Zt,[(0,o._)("div",Et,[Vt,"student"==n.role?((0,o.wg)(),(0,o.iD)("div",Rt,[(0,o._)("button",{class:"write-button",onClick:t[0]||(t[0]=(...e)=>l.goToWritePage&&l.goToWritePage(...e))},"글쓰기")])):(0,o.kq)("",!0),(0,o._)("div",Kt,[(0,o.Wm)(u,{options:l.updateSelectedIndex,onSelected:l.handleDropdownSelect},null,8,["options","onSelected"])]),(0,o._)("div",Jt,[Qt,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchKeyword=t),onKeyup:t[2]||(t[2]=(0,r.D2)(((...t)=>e.search&&e.search(...t)),["enter"])),placeholder:"  검색",class:"search-input"},null,544),[[r.nr,e.searchKeyword]])])]),(0,o._)("table",Gt,[Xt,ea,2===n.selectedIndex?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(n.feedbackTrueItems,((e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:t},[1===e.feedbackYn||2===e.feedbackYn?((0,o.wg)(),(0,o.iD)("tr",ta,[(0,o._)("td",null,(0,i.zw)(l.feedbackCompletedCount-t-n.currentPage*n.itemsPerPage),1),(0,o._)("td",aa,[(0,o._)("div",{class:"work-name",style:(0,i.j5)({backgroundColor:l.getBackgroundColor(e.workId)})},[sa,(0,o._)("span",null,(0,i.zw)(n.works[e.workId].workName),1)],4)]),(0,o._)("td",oa,[(0,o.Wm)(m,{to:{name:"BoardDetailPage",params:{boardId:e.boardId,teamId:a.teamId}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["to"])]),(0,o._)("td",ia,[(0,o._)("img",{src:n.members[e.userId].pictureUrl,alt:"사용자 이미지",style:{"max-width":"28px","max-height":"28px"},class:"spaced"},null,8,ra),(0,o._)("span",null,(0,i.zw)(n.members[e.userId].studentNumber)+"  "+(0,i.zw)(n.members[e.userId].writerName),1)]),(0,o._)("td",null,(0,i.zw)(l.formatDateFromArray(e.createdTime)),1),((0,o.wg)(),(0,o.iD)("td",{key:1===e.feedbackYn||2===e.feedbackYn},la)),(0,o._)("td",null,(0,i.zw)(e.viewCount),1)])):(0,o.kq)("",!0)],64)))),128)):1===n.selectedIndex?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(n.feedbackFalseItems,((e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:t},[0===e.feedbackYn?((0,o.wg)(),(0,o.iD)("tr",da,[(0,o._)("td",null,(0,i.zw)(l.feedbackIncompleteCount-t-n.currentPage*n.itemsPerPage),1),(0,o._)("td",ca,[(0,o._)("div",{class:"work-name",style:(0,i.j5)({backgroundColor:l.getBackgroundColor(e.workId)})},[ua,(0,o._)("span",null,(0,i.zw)(n.works[e.workId].workName),1)],4)]),(0,o._)("td",ma,[(0,o.Wm)(m,{to:{name:"BoardDetailPage",params:{boardId:e.boardId,teamId:a.teamId}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["to"])]),(0,o._)("td",pa,[(0,o._)("img",{src:n.members[e.userId].pictureUrl,alt:"사용자 이미지",style:{"max-width":"28px","max-height":"28px"},class:"spaced"},null,8,ga),(0,o._)("span",null,(0,i.zw)(n.members[e.userId].studentNumber)+"  "+(0,i.zw)(n.members[e.userId].name),1)]),(0,o._)("td",null,(0,i.zw)(l.formatDateFromArray(e.createdTime)),1),((0,o.wg)(),(0,o.iD)("td",{key:0===e.feedbackYn},ba)),(0,o._)("td",null,(0,i.zw)(e.viewCount),1)])):(0,o.kq)("",!0)],64)))),128)):3===n.selectedIndex?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:2},(0,o.Ko)(n.myfeedbackItems,((e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:t},[3===e.feedbackYn?((0,o.wg)(),(0,o.iD)("tr",fa,[(0,o._)("td",null,(0,i.zw)(l.myBoardWriteCount-t-n.currentPage*n.itemsPerPage),1),(0,o._)("td",wa,[(0,o._)("div",{class:"work-name",style:(0,i.j5)({backgroundColor:l.getBackgroundColor(e.workId)})},[va,(0,o._)("span",null,(0,i.zw)(n.works[e.workId].workName),1)],4)]),(0,o._)("td",ka,[(0,o.Wm)(m,{to:{name:"BoardDetailPage",params:{boardId:e.boardId,teamId:a.teamId}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["to"])]),(0,o._)("td",_a,[(0,o._)("img",{src:n.members[e.userId].pictureUrl,alt:"사용자 이미지",style:{"max-width":"28px","max-height":"28px"},class:"spaced"},null,8,Ia),(0,o._)("span",null,(0,i.zw)(n.members[e.userId].studentNumber)+"  "+(0,i.zw)(n.members[e.userId].name),1)]),(0,o._)("td",null,(0,i.zw)(l.formatDateFromArray(e.createdTime)),1),((0,o.wg)(),(0,o.iD)("td",{key:3===e.feedbackYn},Da)),(0,o._)("td",null,(0,i.zw)(e.viewCount),1)])):(0,o.kq)("",!0)],64)))),128)):((0,o.wg)(),(0,o.iD)("tbody",Ca,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.visibleBoardData,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,(0,i.zw)(this.boardList.length-t-n.currentPage*n.itemsPerPage),1),(0,o._)("td",Pa,[(0,o._)("div",{class:"work-name",style:(0,i.j5)({backgroundColor:l.getBackgroundColor(e.workId)})},[Sa,(0,o._)("span",null,(0,i.zw)(n.works[e.workId].workName),1)],4)]),(0,o._)("td",xa,[(0,o.Wm)(m,{to:{name:"BoardDetailPage",params:{boardId:e.boardId,teamId:a.teamId}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["to"])]),(0,o._)("td",Fa,[(0,o._)("img",{src:n.members[e.userId].pictureUrl,alt:"사용자 이미지",style:{"max-width":"28px","max-height":"28px"},class:"spaced"},null,8,za),(0,o._)("span",null,(0,i.zw)(n.members[e.userId].studentNumber)+"  "+(0,i.zw)(n.members[e.userId].name),1)]),(0,o._)("td",null,(0,i.zw)(l.formatDateFromArray(e.createdTime)),1),((0,o.wg)(),(0,o.iD)("td",{key:e.feedbackYn},[(0,o._)("i",{class:(0,i.C_)({"fa-solid fa-circle text-green":1===e.feedbackYn||2==e.feedbackYn,"fa-solid fa-circle text-red":0===e.feedbackYn,"fa-solid fa-circle text-gray":3===e.feedbackYn})},null,2)])),(0,o._)("td",null,(0,i.zw)(e.viewCount),1)])))),128))]))])])])),"student"==n.role?((0,o.wg)(),(0,o.iD)("div",$a,[1===n.selectedIndex?((0,o.wg)(),(0,o.iD)("div",Wa,[(0,o._)("button",{onClick:t[3]||(t[3]=(...e)=>l.showPreviousPages&&l.showPreviousPages(...e))},Ma),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.visiblePageRange1,(e=>((0,o.wg)(),(0,o.iD)("button",{key:e,onClick:t=>l.goToPage(e-1),class:(0,i.C_)({"active-page":e-1===n.currentPage})},(0,i.zw)(e),11,Aa)))),128)),(0,o._)("button",{onClick:t[4]||(t[4]=(...e)=>l.showNextPages&&l.showNextPages(...e))},La)])):2===n.selectedIndex?((0,o.wg)(),(0,o.iD)("div",Ha,[(0,o._)("button",{onClick:t[5]||(t[5]=(...e)=>l.showPreviousPages&&l.showPreviousPages(...e))},Oa),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.visiblePageRange2,(e=>((0,o.wg)(),(0,o.iD)("button",{key:e,onClick:t=>l.goToPage(e-1),class:(0,i.C_)({"active-page":e-1===n.currentPage})},(0,i.zw)(e),11,Ta)))),128)),(0,o._)("button",{onClick:t[6]||(t[6]=(...e)=>l.showNextPages&&l.showNextPages(...e))},ja)])):3===n.selectedIndex?((0,o.wg)(),(0,o.iD)("div",qa,[(0,o._)("button",{onClick:t[7]||(t[7]=(...e)=>l.showPreviousPages&&l.showPreviousPages(...e))},Ea),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.visiblePageRange3,(e=>((0,o.wg)(),(0,o.iD)("button",{key:e,onClick:t=>l.goToPage(e-1),class:(0,i.C_)({"active-page":e-1===n.currentPage})},(0,i.zw)(e),11,Va)))),128)),(0,o._)("button",{onClick:t[8]||(t[8]=(...e)=>l.showNextPages&&l.showNextPages(...e))},Ka)])):((0,o.wg)(),(0,o.iD)("div",Ja,[(0,o._)("button",{onClick:t[9]||(t[9]=(...e)=>l.showPreviousPages&&l.showPreviousPages(...e))},Ga),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.visiblePageRange0,(e=>((0,o.wg)(),(0,o.iD)("button",{key:e,onClick:t=>l.goToPage(e-1),class:(0,i.C_)({"active-page":e-1===n.currentPage})},(0,i.zw)(e),11,Xa)))),128)),(0,o._)("button",{onClick:t[10]||(t[10]=(...e)=>l.showNextPages&&l.showNextPages(...e))},ts)]))])):(0,o.kq)("",!0)]))}const ss=e=>((0,o.dD)("data-v-65e97254"),e=e(),(0,o.Cn)(),e),os={class:"dropdown2"},is=ss((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-down"},null,-1))),rs=["onClick"],ns={class:"status-icon"};function ls(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",os,[(0,o._)("button",{onMouseenter:t[0]||(t[0]=(...e)=>l.openDropdown&&l.openDropdown(...e)),onMouseleave:t[1]||(t[1]=(...e)=>l.closeDropdown&&l.closeDropdown(...e)),class:"dropdown-button2"},[(0,o.Uk)((0,i.zw)(n.selectedOption),1),is],32),(0,o.wy)((0,o._)("ul",{class:"dropdown-list2",onMouseenter:t[2]||(t[2]=(...e)=>l.openDropdown&&l.openDropdown(...e)),onMouseleave:t[3]||(t[3]=(...e)=>l.closeDropdown&&l.closeDropdown(...e))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.options,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t,onClick:e=>l.selectOption(t)},[(0,o.Uk)((0,i.zw)(e)+" ",1),(0,o._)("div",ns,[(0,o._)("i",{class:(0,i.C_)({"fa-solid fa-circle text-red":1===t,"fa-solid fa-circle text-green":2===t,"fa-solid fa-circle text-gray":3===t})},null,2)])],8,rs)))),128))],544),[[r.F8,n.isOpen]])])}var ds={props:{options:Array},data(){return{isOpen:!1,selectedOption:"전체",options:["전체","남은 피드백","완료한 피드백","내가 쓴 글"]}},methods:{openDropdown(){this.isOpen=!0},closeDropdown(){this.isOpen=!1},selectOption(e){this.selectedOption=this.options[e],this.isOpen=!1,this.$emit("selected",e)}}};const cs=(0,se.Z)(ds,[["render",ls],["__scopeId","data-v-65e97254"]]);var us=cs;const ms=e=>((0,o.dD)("data-v-512c6218"),e=e(),(0,o.Cn)(),e),ps={key:0,class:"loading-container"},gs={key:1,class:"write-page"},hs={class:"search-dropdown"},bs={class:"title"},fs={key:0,class:"file-delete"},ws={class:"approve-toggle"},vs={class:"approve-icon approve-false"},ks=["onClick"],_s=["for"],Is={class:"file-box"},ys=ms((()=>(0,o._)("div",{class:"file-icon"},[(0,o._)("i",{class:"fi fi-sr-document"})],-1))),Ds={class:"file-name"},Cs=["for"],Ps={class:"custom-icon-container"},Ss=ms((()=>(0,o._)("i",{class:"fi fi-sr-file-upload custom-icon"},null,-1))),xs={class:"label-text"},Fs=["id","onChange"],zs=["onClick"],$s=ms((()=>(0,o._)("i",{class:"fi fi-sr-add-document"},null,-1))),Ws=[$s],Us={class:"button-container"};function Ms(e,t,a,s,n,l){const d=(0,o.up)("Loader"),c=(0,o.up)("dropdown");return n.loading?((0,o.wg)(),(0,o.iD)("div",ps,[(0,o.Wm)(d)])):((0,o.wg)(),(0,o.iD)("div",gs,[(0,o._)("div",hs,[(0,o.Wm)(c,{options:n.formData.dropdownOptions,onSelected:l.updateSelectedWorkId},null,8,["options","onSelected"])]),(0,o._)("div",bs,[(0,o.wy)((0,o._)("input",{type:"text",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>n.formData.title=e),required:"",placeholder:"제목을 입력하세요"},null,512),[[r.nr,n.formData.title]])]),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.formData.files,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:(0,i.C_)({"file-input-container-write":!e})},[e?((0,o.wg)(),(0,o.iD)("div",fs,[(0,o._)("div",ws,[(0,o._)("div",vs,[(0,o._)("i",{class:"fi fi-rr-cross-circle",onClick:e=>l.deleteFile(t)},null,8,ks)])]),(0,o._)("label",{for:"file-input-"+t,class:"custom-file-label",style:{width:"100%"}},[(0,o._)("div",Is,[ys,(0,o._)("div",Ds,(0,i.zw)(e.name),1)])],8,_s)])):((0,o.wg)(),(0,o.iD)("label",{key:1,for:"file-input-"+t,class:"custom-file-label"},[(0,o._)("div",Ps,[Ss,(0,o._)("span",xs,(0,i.zw)(e?e.name:"파일 선택"),1)])],8,Cs)),(0,o._)("input",{id:"file-input-"+t,type:"file",ref_for:!0,ref:"fileInput",onChange:e=>l.handleFileChange(t),class:"custom-file-input-write",style:{width:"100%",display:"none"}},null,40,Fs),(0,o._)("button",{type:"button",class:"custom-file-input-write",onClick:e=>l.openFileInput(t),style:{width:"100%",display:"none"}},null,8,zs)],2)))),128))]),(0,o._)("div",{onClick:t[1]||(t[1]=(...e)=>l.addFileInput&&l.addFileInput(...e)),class:"add-file-button"},Ws),(0,o._)("div",null,[(0,o.wy)((0,o._)("textarea",{id:"content",onInput:t[2]||(t[2]=e=>l.resize(e.target)),"onUpdate:modelValue":t[3]||(t[3]=e=>n.formData.content=e),required:"",placeholder:"본문을 입력하세요"},null,544),[[r.nr,n.formData.content]])]),(0,o._)("div",Us,[(0,o._)("button",{type:"button",class:"cancel-button",onClick:t[4]||(t[4]=(...e)=>l.goToHomePage&&l.goToHomePage(...e))},"취소"),(0,o._)("button",{type:"submit",class:"submit-button",onClick:t[5]||(t[5]=(...e)=>l.submitForm&&l.submitForm(...e))},"확인")])]))}const As=e=>((0,o.dD)("data-v-7a00780d"),e=e(),(0,o.Cn)(),e),Bs={class:"dropdown"},Ls={class:"selected-content"},Hs=As((()=>(0,o._)("div",{class:"icon"},[(0,o._)("i",{class:"fi fi-rr-angle-small-down"})],-1))),Ns=["onClick"];function Os(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",Bs,[(0,o._)("button",{onMouseenter:t[0]||(t[0]=(...e)=>l.Dropdown&&l.Dropdown(...e)),onMouseleave:t[1]||(t[1]=(...e)=>l.closeDropdown&&l.closeDropdown(...e)),class:"dropdown-button"},[(0,o._)("div",Ls,(0,i.zw)(n.selectedOption),1),Hs],32),(0,o.wy)((0,o._)("ul",{class:"dropdown-list",onMouseenter:t[2]||(t[2]=(...e)=>l.openDropdown&&l.openDropdown(...e)),onMouseleave:t[3]||(t[3]=(...e)=>l.closeDropdown&&l.closeDropdown(...e))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.options,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t,onClick:t=>l.selectOption(e)},(0,i.zw)(e.work_name),9,Ns)))),128))],544),[[r.F8,n.isOpen]])])}var Ts={props:{options:Array,initialWorkName:null},mounted(){this.selectedOption=this.initialWorkName?this.initialWorkName:"작업 선택"},data(){return{isOpen:!1,selectedOption:"전체"}},methods:{openDropdown(){this.isOpen=!0},closeDropdown(){this.isOpen=!1},selectOption(e){this.selectedOption=e.work_name,this.$emit("selected",e.work_id),this.isOpen=!1},Dropdown(){this.isOpen=!this.isOpen}}};const Ys=(0,se.Z)(Ts,[["render",Os],["__scopeId","data-v-7a00780d"]]);var js=Ys,qs=a(4217),Zs={props:["teamId"],data(){return{workName:"ValueFromUpdatePage",formData:{title:"",content:"",files:[],fileInputs:[],dropdownOptions:[],selectedWorkId:null,boardId:0},loading:!1}},watch:{loading(e){e||this.goToHomePage()}},components:{Dropdown:js,Loader:qs.Z},methods:{handleFileChange(e){const t=this.$refs.fileInput[e];this.formData.files.splice(e,1,t.files[0]),t.value=null},openFileInput(e){const t=this.$refs.fileInput[e];t.click()},deleteFile(e){this.formData.files.splice(e,1)},async submitForm(){const{title:e,content:t,files:a,selectedWorkId:s}=this.formData;if(null==s)alert("작업을 선택해주세요");else if(null==e||""==e.trim())console.log(e),alert("제목을 입력해주세요");else{this.loading=!0;const i=this.teamId,r=new FormData;r.append("title",e),r.append("content",t);for(let e=0;e<a.length;e++)r.append("files",a[e]);try{const e=this.$store.state.userStore.user_id;console.log(e),J.be.post(`/board-service/board/multiWrite/${e}/${i}/${s}`,r,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e),this.boardId=e.data.content.boardId,null!=this.boardId&&(this.boardId=e.data.content.boardId,this.goToDetailPage())}))}catch(o){console.error(o.message)}finally{this.loading=!1}}},addFileInput(){this.formData.files.push(null),this.formData.fileInputs.push(null)},goToHomePage(){this.$router.push({name:"HomeView",params:{teamId:this.teamId}})},goToDetailPage(){this.$router.push({name:"BoardDetailPage",params:{boardId:this.boardId}})},async loadDropdownOptions(e){try{const t=(0,xt.oR)(),a=t.state.userStore.user_id,s=await J.be.get(`/work-service/works/${e}/${a}`);this.formData.dropdownOptions=s.data}catch(t){console.error("Dropdown options load error:",t)}},updateSelectedWorkId(e){this.formData.selectedWorkId=e},resize(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"}},created(){this.addFileInput(),this.loadDropdownOptions(this.teamId)}};const Es=(0,se.Z)(Zs,[["render",Ms],["__scopeId","data-v-512c6218"]]);var Vs=Es,Rs=["#3772FF","#FF7171","#EA8EEC","#9160D1","#4A70CB","#FFA500","#FFA07A","#FFBF00","#80B600","#3CB371","#6495ED"];const Ks=e=>((0,o.dD)("data-v-653ec0d5"),e=e(),(0,o.Cn)(),e),Js={key:0,class:"loading-container"},Qs={key:1},Gs={class:"container"},Xs={class:"table-container"},eo={class:"search-container"},to=Ks((()=>(0,o._)("div",{class:"file-letter"},"파일",-1))),ao={key:0,class:"write-button-container"},so={class:"search-input-container"},oo=Ks((()=>(0,o._)("i",{class:"fi fi-br-search"},null,-1))),io={class:"table custom-table"},ro=Ks((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"번호"),(0,o._)("th",null,"작업 이름"),(0,o._)("th",null,"제목"),(0,o._)("th",null," 작성자"),(0,o._)("th",null,"작성일"),(0,o._)("th",null,"조회수")])],-1))),no=Ks((()=>(0,o._)("div",{class:"margin-space"},null,-1))),lo={class:"work-name-container"},co=Ks((()=>(0,o._)("i",{class:"fa-solid fa-tag"},null,-1))),uo={class:"title"},mo={class:"writer"},po=["src"],go={key:0,class:"pagination"},ho=Ks((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-left"},null,-1))),bo=[ho],fo=["onClick"],wo=Ks((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-right"},null,-1))),vo=[wo],ko={key:1,class:"pagination"},_o=Ks((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-left"},null,-1))),Io=[_o],yo=["onClick"],Do=Ks((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-right"},null,-1))),Co=[Do],Po={key:2,class:"pagination"},So=Ks((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-left"},null,-1))),xo=[So],Fo=["onClick"],zo=Ks((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-right"},null,-1))),$o=[zo],Wo={key:3,class:"pagination"},Uo=Ks((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-left"},null,-1))),Mo=[Uo],Ao=["onClick"],Bo=Ks((()=>(0,o._)("i",{class:"fi fi-rr-angle-small-right"},null,-1))),Lo=[Bo];function Ho(e,t,a,s,n,l){const d=(0,o.up)("Loader"),c=(0,o.up)("router-link");return n.loading?((0,o.wg)(),(0,o.iD)("div",Js,[(0,o.Wm)(d)])):((0,o.wg)(),(0,o.iD)("div",Qs,[(0,o._)("div",Gs,[(0,o._)("div",Xs,[(0,o._)("div",eo,[to,"student"==n.role?((0,o.wg)(),(0,o.iD)("div",ao,[(0,o._)("button",{class:"write-button",onClick:t[0]||(t[0]=(...e)=>l.goToWritePage&&l.goToWritePage(...e))},"글쓰기")])):(0,o.kq)("",!0),(0,o._)("div",so,[oo,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchKeyword=t),onKeyup:t[2]||(t[2]=(0,r.D2)(((...t)=>e.search&&e.search(...t)),["enter"])),placeholder:"  검색",class:"search-input"},null,544),[[r.nr,e.searchKeyword]])])]),(0,o._)("table",io,[ro,no,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.visibleBoardData,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,(0,i.zw)(this.boardList.length-t-n.currentPage*n.itemsPerPage),1),(0,o._)("td",lo,[(0,o._)("div",{class:"work-name",style:(0,i.j5)({backgroundColor:l.getBackgroundColor(e.workId)})},[co,(0,o._)("span",null,(0,i.zw)(n.works[e.workId].workName),1)],4)]),(0,o._)("td",uo,[(0,o.Wm)(c,{to:{name:"BoardDetailPage",params:{boardId:e.boardId,teamId:a.teamId}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["to"])]),(0,o._)("td",mo,[(0,o._)("img",{src:n.members[e.userId].pictureUrl,alt:"사용자 이미지",style:{"max-width":"28px","max-height":"28px"},class:"spaced"},null,8,po),(0,o._)("span",null,(0,i.zw)(n.members[e.userId].studentNumber)+"  "+(0,i.zw)(n.members[e.userId].name),1)]),(0,o._)("td",null,(0,i.zw)(l.formatDateFromArray(e.createdTime)),1),(0,o._)("td",null,(0,i.zw)(e.viewCount),1)])))),128))])])])]),1===n.selectedIndex?((0,o.wg)(),(0,o.iD)("div",go,[(0,o._)("button",{onClick:t[3]||(t[3]=(...e)=>l.showPreviousPages&&l.showPreviousPages(...e))},bo),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.visiblePageRange1,(e=>((0,o.wg)(),(0,o.iD)("button",{key:e,onClick:t=>l.goToPage(e-1),class:(0,i.C_)({"active-page":e-1===n.currentPage})},(0,i.zw)(e),11,fo)))),128)),(0,o._)("button",{onClick:t[4]||(t[4]=(...e)=>l.showNextPages&&l.showNextPages(...e))},vo)])):2===n.selectedIndex?((0,o.wg)(),(0,o.iD)("div",ko,[(0,o._)("button",{onClick:t[5]||(t[5]=(...e)=>l.showPreviousPages&&l.showPreviousPages(...e))},Io),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.visiblePageRange2,(e=>((0,o.wg)(),(0,o.iD)("button",{key:e,onClick:t=>l.goToPage(e-1),class:(0,i.C_)({"active-page":e-1===n.currentPage})},(0,i.zw)(e),11,yo)))),128)),(0,o._)("button",{onClick:t[6]||(t[6]=(...e)=>l.showNextPages&&l.showNextPages(...e))},Co)])):3===n.selectedIndex?((0,o.wg)(),(0,o.iD)("div",Po,[(0,o._)("button",{onClick:t[7]||(t[7]=(...e)=>l.showPreviousPages&&l.showPreviousPages(...e))},xo),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.visiblePageRange3,(e=>((0,o.wg)(),(0,o.iD)("button",{key:e,onClick:t=>l.goToPage(e-1),class:(0,i.C_)({"active-page":e-1===n.currentPage})},(0,i.zw)(e),11,Fo)))),128)),(0,o._)("button",{onClick:t[8]||(t[8]=(...e)=>l.showNextPages&&l.showNextPages(...e))},$o)])):((0,o.wg)(),(0,o.iD)("div",Wo,[(0,o._)("button",{onClick:t[9]||(t[9]=(...e)=>l.showPreviousPages&&l.showPreviousPages(...e))},Mo),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.visiblePageRange0,(e=>((0,o.wg)(),(0,o.iD)("button",{key:e,onClick:t=>l.goToPage(e-1),class:(0,i.C_)({"active-page":e-1===n.currentPage})},(0,i.zw)(e),11,Ao)))),128)),(0,o._)("button",{onClick:t[10]||(t[10]=(...e)=>l.showNextPages&&l.showNextPages(...e))},Lo)]))]))}var No={props:["teamId"],data(){return{boardList:[],workList:[],memberList:[],mergeList:[],totalList:[],currentPage:0,visibleBoardData:[],totalPages:0,feedbackTrueItemCount:0,feedbackFalseItemCount:0,visiblePagesStart:1,visiblePagesEnd:3,dropdownOptions:["Option 1","Option 2","Option 3"],itemsPerPage:10,loading:!0,selectedIndex:null,colors:{},i:0,bgColors:Rs,members:{},works:{},role:""}},components:{BoardDropdown:us,WritePage:Vs,Loader:qs.Z},mounted(){console.log("팀 아이디 : ",this.teamId),this.fetchBoardList(this.teamId)},computed:{visiblePageRange0(){const e=3,t=Math.floor((this.visiblePagesStart+this.visiblePagesEnd)/2),a=Math.max(1,t-Math.floor(e/2)),s=Math.min(this.totalPages,a+e-1);return Array.from({length:s-a+1},((e,t)=>a+t))},feedbackCompletedCount(){return this.boardList.filter((e=>1===e.feedbackYn)).length},feedbackIncompleteCount(){return this.boardList.filter((e=>0===e.feedbackYn||2===e.feedbackYn)).length},myBoardWriteCount(){return this.boardList.filter((e=>3===e.feedbackYn)).length}},watch:{currentPage(){this.updateVisibleBoardData()},boardList(){this.updateVisibleBoardData()},selectedIndex(e,t){e!==t&&(this.currentPage=0)}},methods:{updateSelectedIndex(e){this.selectedIndex=e},handleDropdownSelect(e){this.selectedIndex=e,this.currentPage=0},formatDateFromArray(e){const[t,a,s]=e.slice(0,3),o=a.toString().padStart(2,"0"),i=s.toString().padStart(2,"0"),r=`${t}-${o}-${i}`;return r},async fetchBoardList(e){try{const t=(0,xt.oR)();this.role=t.state.userStore.role;const a=`/board-service/professor/board/list/${e}`,s=await J.be.get(a);this.boardList=s.data.content.reverse(),console.log(s.data),this.workList=s.data.work,this.memberList=s.data.member;for(const e of this.memberList)this.members[e.id]=e;for(const e of this.workList)this.works[e.workId]=e;this.totalList.sort(((e,t)=>t.boardId-e.boardId)),this.totalPages=Math.ceil(this.boardList.length/this.itemsPerPage),this.updateVisibleBoardData()}catch(t){console.error("Error fetching board list:",t)}finally{this.loading=!1}},updateVisibleBoardData(){const e=this.currentPage*this.itemsPerPage,t=e+this.itemsPerPage;this.visibleBoardData=this.boardList.slice(e,t),this.feedbackTrueItems=this.boardList.filter((e=>1===e.feedbackYn)).slice(e,t),this.feedbackFalseItems=this.boardList.filter((e=>2===e.feedbackYn||0===e.feedbackYn)).slice(e,t),this.myfeedbackItems=this.boardList.filter((e=>3===e.feedbackYn)).slice(e,t)},goToPage(e){this.currentPage=e,this.updateVisibleBoardData();const t=3,a=Math.floor((this.currentPage+this.visiblePagesEnd)/2),s=Math.max(1,a-Math.floor(t/2));this.visiblePagesStart=s,this.visiblePagesEnd=s+t-1},showPreviousPages(){this.visiblePagesStart>1&&(this.visiblePagesStart-=3,this.visiblePagesEnd-=3)},showNextPages(){this.visiblePagesEnd<this.totalPages&&(this.visiblePagesStart+=3,this.visiblePagesEnd+=3)},goToWritePage(){this.$router.push({name:"WritePage"})},getBackgroundColor(e){return this.colors[e]||(this.colors[e]=this.bgColors[this.i],this.i>=this.bgColors.length-1?this.i=0:this.i=this.i+1),this.colors[e]}}};const Oo=(0,se.Z)(No,[["render",Ho],["__scopeId","data-v-653ec0d5"]]);var To=Oo,Yo={props:["teamId"],data(){return{boardList:[],workList:[],memberList:[],mergeList:[],totalList:[],currentPage:0,visibleBoardData:[],feedbackTrueItems:[],feedbackFalseItems:[],myfeedbackItems:[],totalPages:0,falsePages:0,truePages:0,mywritePages:0,feedbackTrueItemCount:0,feedbackFalseItemCount:0,visiblePagesStart:1,visiblePagesEnd:3,dropdownOptions:["Option 1","Option 2","Option 3"],itemsPerPage:7,loading:!0,selectedIndex:null,colors:{},i:0,bgColors:Rs,members:{},works:{},role:""}},components:{BoardDropdown:us,WritePage:Vs,Loader:qs.Z,ProfessorView:To},mounted(){this.fetchBoardList(this.teamId)},computed:{visiblePageRange0(){const e=3,t=Math.floor((this.visiblePagesStart+this.visiblePagesEnd)/2),a=Math.max(1,t-Math.floor(e/2)),s=Math.min(this.totalPages,a+e-1);return Array.from({length:s-a+1},((e,t)=>a+t))},visiblePageRange1(){const e=3,t=Math.floor((this.visiblePagesStart+this.visiblePagesEnd)/2),a=Math.max(1,t-Math.floor(e/2)),s=Math.min(this.truePages,a+e-1);return Array.from({length:s-a+1},((e,t)=>a+t))},visiblePageRange2(){const e=3,t=Math.floor((this.visiblePagesStart+this.visiblePagesEnd)/2),a=Math.max(1,t-Math.floor(e/2)),s=Math.min(this.falsePages,a+e-1);return Array.from({length:s-a+1},((e,t)=>a+t))},visiblePageRange3(){const e=3,t=Math.floor((this.visiblePagesStart+this.visiblePagesEnd)/2),a=Math.max(1,t-Math.floor(e/2)),s=Math.min(this.mywritePages,a+e-1);return Array.from({length:s-a+1},((e,t)=>a+t))},feedbackCompletedCount(){return this.boardList.filter((e=>1===e.feedbackYn||2===e.feedbackYn)).length},feedbackIncompleteCount(){return this.boardList.filter((e=>0===e.feedbackYn)).length},myBoardWriteCount(){return this.boardList.filter((e=>3===e.feedbackYn)).length}},watch:{currentPage(){this.updateVisibleBoardData()},boardList(){this.updateVisibleBoardData()},selectedIndex(e,t){e!==t&&(this.currentPage=0)}},methods:{updateSelectedIndex(e){this.selectedIndex=e},handleDropdownSelect(e){this.selectedIndex=e,this.currentPage=0},formatDateFromArray(e){const[t,a,s]=e.slice(0,3),o=a.toString().padStart(2,"0"),i=s.toString().padStart(2,"0"),r=`${t}-${o}-${i}`;return r},async fetchBoardList(e){try{const t=(0,xt.oR)();this.role=t.state.userStore.role;const a=t.state.userStore.user_id;if("student"==this.role){const t=`/board-service/board/list/${a}/${e}`,s=await J.be.get(t);this.boardList=s.data.content.reverse(),console.log(s.data),this.workList=s.data.work,this.memberList=s.data.member;for(const e of this.memberList)this.members[e.id]=e;for(const e of this.workList)this.works[e.workId]=e;this.totalList.sort(((e,t)=>t.boardId-e.boardId)),this.feedbackTrueItemCount=this.feedbackTrueItems.length,this.feedbackFalseItemCount=this.feedbackFalseItems.length,this.totalPages=Math.ceil(this.boardList.length/this.itemsPerPage),this.falsePages=Math.ceil(this.feedbackIncompleteCount/this.itemsPerPage),this.truePages=Math.ceil(this.feedbackCompletedCount/this.itemsPerPage),this.mywritePages=Math.ceil(this.myBoardWriteCount/this.itemsPerPage),this.updateVisibleBoardData()}}catch(t){console.error("Error fetching board list:",t)}finally{this.loading=!1}},updateVisibleBoardData(){const e=this.currentPage*this.itemsPerPage,t=e+this.itemsPerPage;this.visibleBoardData=this.boardList.slice(e,t),this.feedbackTrueItems=this.boardList.filter((e=>1===e.feedbackYn||2===e.feedbackYn)).slice(e,t),this.feedbackFalseItems=this.boardList.filter((e=>0===e.feedbackYn)).slice(e,t),this.myfeedbackItems=this.boardList.filter((e=>3===e.feedbackYn)).slice(e,t)},goToPage(e){this.currentPage=e,this.updateVisibleBoardData();const t=3,a=Math.floor((this.currentPage+this.visiblePagesEnd)/2),s=Math.max(1,a-Math.floor(t/2));this.visiblePagesStart=s,this.visiblePagesEnd=s+t-1},showPreviousPages(){this.visiblePagesStart>1&&(this.visiblePagesStart-=3,this.visiblePagesEnd-=3)},showNextPages(){this.visiblePagesEnd<this.totalPages&&(this.visiblePagesStart+=3,this.visiblePagesEnd+=3)},goToWritePage(){this.$router.push({name:"WritePage"})},getBackgroundColor(e){return this.colors[e]||(this.colors[e]=this.bgColors[this.i],this.i>=this.bgColors.length-1?this.i=0:this.i=this.i+1),this.colors[e]}}};const jo=(0,se.Z)(Yo,[["render",as],["__scopeId","data-v-6b42fca2"]]);var qo=jo;const Zo=e=>((0,o.dD)("data-v-4e08bc02"),e=e(),(0,o.Cn)(),e),Eo={key:0,class:"loading-container"},Vo={key:1,class:"write-page"},Ro={class:"search-dropdown"},Ko={class:"title"},Jo=["placeholder"],Qo={class:"file-delete"},Go=["onClick"],Xo={class:"approve-icon approve-false"},ei=Zo((()=>(0,o._)("i",{class:"fi fi-rr-minus-circle minus"},null,-1))),ti=[ei],ai={class:"approve-icon approve-true"},si=Zo((()=>(0,o._)("i",{class:"fi fi-sr-minus-circle minus"},null,-1))),oi=[si],ii=Zo((()=>(0,o._)("div",{class:"file-icon"},[(0,o._)("i",{class:"fi fi-sr-document"})],-1))),ri={class:"file-name"},ni={key:0,class:"file-delete"},li={class:"approve-toggle"},di={class:"approve-icon approve-false"},ci=["onClick"],ui=["for"],mi={class:"file-box"},pi=Zo((()=>(0,o._)("div",{class:"file-icon"},[(0,o._)("i",{class:"fi fi-sr-document"})],-1))),gi={class:"file-name"},hi=["for"],bi={class:"custom-icon-container"},fi=Zo((()=>(0,o._)("i",{class:"fi fi-sr-file-upload custom-icon"},null,-1))),wi={class:"label-text"},vi=["id","onChange"],ki=["onClick"],_i=Zo((()=>(0,o._)("i",{class:"fi fi-sr-add-document"},null,-1))),Ii=[_i],yi={class:"button-container"};function Di(e,t,a,s,n,l){const d=(0,o.up)("Loader"),c=(0,o.up)("dropdown");return(0,o.wg)(),(0,o.iD)("div",null,[n.loading?((0,o.wg)(),(0,o.iD)("div",Eo,[(0,o.Wm)(d)])):((0,o.wg)(),(0,o.iD)("div",Vo,[(0,o._)("div",Ro,[(0,o.Wm)(c,{options:n.formData.dropdownOptions,initialWorkName:n.boardContent.workName,onSelected:l.updateSelectedWorkId},null,8,["options","initialWorkName","onSelected"])]),(0,o._)("div",Ko,[(0,o.wy)((0,o._)("input",{type:"text",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>n.formData.title=e),required:"",placeholder:n.boardContent.title},null,8,Jo),[[r.nr,n.formData.title]])]),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.boardContent.fileDirs,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,style:{cursor:"pointer"}},[(0,o._)("div",Qo,[(0,o._)("div",{onClick:e=>l.toggleApproval(t),class:"approve-toggle"},[(0,o.wy)((0,o._)("div",Xo,ti,512),[[r.F8,!l.isSelectedFile(t)]]),(0,o.wy)((0,o._)("div",ai,oi,512),[[r.F8,l.isSelectedFile(t)]])],8,Go),(0,o._)("div",{class:(0,i.C_)(["file-box",{"file-box-selected":l.isSelectedFile(t)}])},[ii,(0,o._)("div",ri,(0,i.zw)(l.extractFileName(e)),1)],2)])])))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.formData.files,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:(0,i.C_)({"file-input-container-write":!e})},[e?((0,o.wg)(),(0,o.iD)("div",ni,[(0,o._)("div",li,[(0,o._)("div",di,[(0,o._)("i",{class:"fi fi-rr-cross-circle",onClick:e=>l.deleteFile(t)},null,8,ci)])]),(0,o._)("label",{for:"file-input-"+t,class:"custom-file-label"},[(0,o._)("div",mi,[pi,(0,o._)("div",gi,(0,i.zw)(e.name),1)])],8,ui)])):((0,o.wg)(),(0,o.iD)("label",{key:1,for:"file-input-"+t,class:"custom-file-label"},[(0,o._)("div",bi,[fi,(0,o._)("span",wi,(0,i.zw)(e?e.name:"파일 선택"),1)])],8,hi)),(0,o._)("input",{id:"file-input-"+t,type:"file",ref_for:!0,ref:"fileInput",onChange:e=>l.handleFileChange(t),class:"custom-file-input-write",style:{display:"none"}},null,40,vi),(0,o._)("button",{type:"button",class:"custom-file-input-write",onClick:e=>l.openFileInput(t),style:{display:"none"}},null,8,ki)],2)))),128))]),(0,o._)("div",{onClick:t[1]||(t[1]=(...e)=>l.addFileInput&&l.addFileInput(...e)),class:"add-file-button"},Ii),(0,o._)("div",null,[(0,o.wy)((0,o._)("textarea",{id:"content",class:"content",onInput:t[2]||(t[2]=e=>l.resize(e.target)),"onUpdate:modelValue":t[3]||(t[3]=e=>n.formData.content=e),required:""},null,544),[[r.nr,n.formData.content]])]),(0,o._)("div",yi,[(0,o._)("button",{type:"button",class:"cancel-button",onClick:t[4]||(t[4]=(...t)=>e.goToHomePage&&e.goToHomePage(...t))},"취소"),(0,o._)("button",{type:"submit",class:"submit-button",onClick:t[5]||(t[5]=(...e)=>l.submitForm&&l.submitForm(...e))},"수정")])]))])}a(6229),a(7330),a(2062);const Ci=e=>((0,o.dD)("data-v-f7e3ec8c"),e=e(),(0,o.Cn)(),e),Pi=Ci((()=>(0,o._)("i",{class:"fi fi-rr-angle-double-small-left"},null,-1))),Si=[Pi],xi=Ci((()=>(0,o._)("i",{class:"fi fi-rr-angle-double-small-right"},null,-1))),Fi=[xi],zi={key:2,class:"comment-container"},$i={class:"feedback-comment"},Wi={class:"profile"},Ui=["src"],Mi={class:"student-info"},Ai={class:"spaced1"},Bi={class:"created-at"},Li={class:"small-text"},Hi={class:"content"},Ni={class:"feedback-comment"},Oi={class:"profile"},Ti=["src"],Yi={class:"student-info"},ji={class:"spaced1"},qi={class:"created-at"},Zi={class:"small-text"},Ei={class:"content"},Vi={key:0,class:"approve-mod-container"},Ri={class:"approve-icon approve-true"},Ki=Ci((()=>(0,o._)("i",{class:"fi fi-sr-checkbox"},null,-1))),Ji=[Ki],Qi={class:"approve-icon approve-false"},Gi=Ci((()=>(0,o._)("i",{class:"fi fi-rr-checkbox"},null,-1))),Xi=[Gi],er=["disabled"],tr=["disabled"];function ar(e,t,a,s,n,l){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{class:"sidebar",style:(0,i.j5)({width:s.sidebarWidth,height:s.sidebarHeight})},[s.collapsed?((0,o.wg)(),(0,o.iD)("span",{key:0,class:"collapse-icon",onClick:t[0]||(t[0]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},Si)):((0,o.wg)(),(0,o.iD)("span",{key:1,class:"collapse-icon",onClick:t[1]||(t[1]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},Fi)),s.collapsed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",zi,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.feedbackList,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.feedbackId,class:"feedback-item"},[(0,o._)("div",$i,[(0,o._)("div",Wi,[(0,o._)("img",{src:n.writers[e.userId].pictureUrl,alt:"이미지",class:"spaced"},null,8,Ui)]),(0,o._)("div",Mi,[(0,o._)("span",Ai,(0,i.zw)(n.writers[e.userId].studentNumber)+"  "+(0,i.zw)(n.writers[e.userId].name),1)]),(0,o._)("div",Bi,[(0,o._)("span",Li,(0,i.zw)(l.formatDate(e.createdAt)),1)])]),(0,o._)("div",Hi,[(0,o._)("div",{class:(0,i.C_)(["feedback-comment-box",{"blue-background":2==e.modReq},{"grey-background":3==n.feedbackStatuses[e.userId].feedbackYn}])},(0,i.zw)(e.comment)+" "+(0,i.zw)(n.feedbackStatuses[n.memberId].feedbackYn),3)])])))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.addComments,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"feedback-item"},[(0,o._)("div",Ni,[(0,o._)("div",Oi,[(0,o._)("img",{src:n.writers[n.memberId].pictureUrl,alt:"이미지",class:"spaced"},null,8,Ti)]),(0,o._)("div",Yi,[(0,o._)("span",ji,(0,i.zw)(n.writers[n.memberId].studentNumber)+"  "+(0,i.zw)(n.writers[n.memberId].name),1)]),(0,o._)("div",qi,[(0,o._)("span",Zi,(0,i.zw)(l.formatDate2(e.date)),1)]),(0,o._)("div",Ei,[(0,o._)("div",{class:(0,i.C_)(["feedback-comment-box",{"blue-background":2==n.feedbackStatuses[n.memberId].feedbackYn||0==n.feedbackStatuses[n.memberId].feedbackYn&&1==e.newApproved},{"grey-background":3==n.feedbackStatuses[n.memberId].feedbackYn}])},(0,i.zw)(e.comment)+" "+(0,i.zw)(n.feedbackStatuses[n.memberId].feedbackYn)+" "+(0,i.zw)(e.modReq),3)])])])))),128))])),s.collapsed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:3,class:"comment-box",style:(0,i.j5)({width:s.sidebarWidth})},["student"==a.role?((0,o.wg)(),(0,o.iD)("div",Vi,[(0,o._)("button",{onClick:t[2]||(t[2]=(...e)=>l.toggleApproval&&l.toggleApproval(...e)),class:"approve-toggle"},[(0,o.wy)((0,o._)("div",Ri,Ji,512),[[r.F8,n.isApproved]]),(0,o.wy)((0,o._)("div",Qi,Xi,512),[[r.F8,!n.isApproved]])]),(0,o._)("div",{class:"mod_request",onClick:t[3]||(t[3]=(...e)=>l.toggleApproval&&l.toggleApproval(...e))},"수정 요청")])):(0,o.kq)("",!0),(0,o.wy)((0,o._)("textarea",{disabled:"professor"==a.role,style:(0,i.j5)({"background-color":"professor"==a.role?"white":"initial"}),"onUpdate:modelValue":t[4]||(t[4]=e=>n.comment=e),class:"comment-input",placeholder:"Add a comment..."},null,12,er),[[r.nr,n.comment]]),(0,o._)("button",{disabled:"professor"==a.role,onClick:t[5]||(t[5]=(...e)=>l.submitComment&&l.submitComment(...e)),class:"comment-summit"},"저장",8,tr)],4))],4)])}const sr=(0,E.iH)(!1),or=()=>sr.value=!sr.value,ir=400,rr=60,nr=(0,o.Fl)((()=>`${sr.value?rr:ir}px`)),lr="61.5vh",dr="70px",cr=(0,o.Fl)((()=>`${sr.value?dr:lr}`));var ur={props:["boardId","teamId","role"],name:"Sidebar",setup(){return{collapsed:sr,toggleSidebar:or,sidebarWidth:nr,sidebarHeight:cr}},data(){return{isOpen:!1,comment:"",isCommentVisible:!0,addComments:[],isApproved:0,feedbackList:[],feedbackStatusList:[],writerList:[],feedbackStatuses:{},writers:{},saveApproved:0,newApproved:0,count:0,memberId:this.$store.state.userStore.user_id}},beforeCreate(){try{J.be.get(`board-service/comment/${this.boardId}/${this.teamId}`).then((e=>{console.log(e),this.feedbackList=e.data.feedback,this.feedbackStatusList=e.data.feedbackStatus,this.writerList=e.data.writer;for(const t of this.feedbackStatusList)this.feedbackStatuses[t.userId]=t;for(const t of this.writerList)this.writers[t.id]=t,console.log(this.writers)}))}catch(e){console.error("Error fetching feedback comments:",e)}},methods:{formatDate(e){const[t,a,s,o,i]=e,r=(a<9?"0":"")+(a+1),n=o<12?"오전":"오후",l=o%12===0?12:o%12,d=i<10?"0"+i:i,c=`${t}.${r}.${s} ${n} ${l}:${d}`;return c},formatDate2(e){const t=new Date(e),a=t.getFullYear(),s=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0"),i=t.getHours(),r=t.getMinutes(),n=i<12?"오전":"오후",l=i%12||12,d=r.toString().padStart(2,"0"),c=`${a}.${s}.${o} ${n} ${l}:${d}`;return c},toggleApproval(){this.isApproved=!this.isApproved},async submitComment(){try{1==this.isApproved&&0==this.count?(this.newApproved=1,this.count=1):0==this.isApproved&&0==this.count&&(this.newApproved=2,this.count=4);const e=new Date;this.addComments.push({comment:this.comment,date:e,isApproved:this.isApproved,newApproved:this.newApproved});let t=this.isApproved?2:1;const a={comment:this.comment};this.comment="",this.isCommentVisible=!1;const s=this.$store.state.userStore.user_id;await J.be.post(`/board-service/comment/${this.boardId}/${s}/${t}`,a)}catch(e){console.error("코멘트 제출 오류:",e),alert("피드백 제출 오류")}}}};const mr=(0,se.Z)(ur,[["render",ar],["__scopeId","data-v-f7e3ec8c"]]);var pr=mr,gr={props:["boardId","memberId","teamId"],components:{Sidebar:pr,Dropdown:js,Loader:qs.Z},data(){return{allFileIds:[],selectedFileIndexes:[],selectedFileIds:[],isApproved:!0,boardContent:{},formData:{title:"",content:"",boardId:null,files:[null],fileInputs:[null],dropdownOptions:[],selectedWorkId:null},loading:!0,fileUploaded:{}}},async created(){this.loadDropdownOptions(22,this.teamId);const e=this.$route.params.boardId,t=this.$route.params.teamId,a=this.$store.state.userStore.user_id;try{const s=await J.be.get(`/board-service/board/view/${e}/${a}/${t}`);200===s.data.status.code?(this.boardContent=s.data.content,this.formData.title=this.boardContent.title,this.formData.content=this.boardContent.content,this.allFileIds=this.boardContent.fileId,this.formData.selectedWorkId=this.boardContent.workId,this.loading=!1):console.error("올바르지 않은 요청입니다.")}catch(s){console.error("게시글 조회 오류:",s)}},methods:{async loadDropdownOptions(e,t){try{const a=await J.be.get(`/work-service/works/${t}/${e}`);this.formData.dropdownOptions=a.data.content}catch(a){console.error("Dropdown options load error:",a)}},updateSelectedWorkId(e){this.formData.selectedWorkId=e},async submitForm(){this.loading=!0;const e=this.$store.state.userStore.user_id;console.log(this.formData);const{title:t,content:a,files:s,selectedFileIds:o,selectedWorkId:i}=this.formData,r=this.boardId,n=this.teamId,l=new FormData;l.append("title",t),l.append("content",a);for(let c=0;c<s.length;c++)l.append("files",s[c]);try{const t=JSON.stringify(this.selectedFileIds);console.log("Selected File IDs:",t),"[]"!=t&&await J.be.delete("/board-service/files/delete",{data:t,headers:{"Content-Type":"application/json"}});const a=await J.be.post(`board-service/multiboard/update/${r}/${e}/${n}/${i}`,l,{params:{files:o},headers:{"Content-Type":"multipart/form-data"}});console.log("수정 성공:",a.data),this.$router.push({name:"BoardDetailPage",params:{boardId:this.boardId}})}catch(d){console.error("수정 오류:",d)}finally{this.loading=!1}},toggleApproval(e){this.selectedFileIndexes[e]=!this.selectedFileIndexes[e];const t=this.allFileIds[e];if(this.selectedFileIndexes[e])this.selectedFileIds.push(t);else{const e=this.selectedFileIds.indexOf(t);-1!==e&&this.selectedFileIds.splice(e,1)}},isSelectedFile(e){return this.selectedFileIndexes[e]},handleFileChange(e){this.fileUploaded[e]=!0;const t=this.$refs.fileInput[e];this.formData.files.splice(e,1,t.files[0]),t.value=null},deleteFile(e){this.formData.files.splice(e,1)},openFileInput(e){const t=this.$refs.fileInput[e];t.click()},addFileInput(){this.formData.files.push(null),this.formData.fileInputs.push(null)},goToUpdatePage(){this.$router.push({name:"BoardDetailPage",params:{boardId:this.boardId}})},goToSideBarPage(){this.$router.push({name:"SideBarPage",params:{memberId:this.memberId}})},goToBoardDetailPage(){this.$router.push({name:"BoardDetailPage",params:{boardId:this.boardId}})},hasExtension(e){const t=/\.[0-9a-z]+$/i;return t.test(e)},extractFileName(e){const t=e.split("_")[1];return t},async downloadFile(e,t){try{const a=await J.be.get(`board-service/downloadFile/${e}`,{responseType:"blob"}),s=new Blob([a.data]),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.setAttribute("download",this.extractFileName(t)),document.body.appendChild(o),o.click(),o.remove()}catch(a){console.error("Error downloading file:",a)}},resize(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"}}};const hr=(0,se.Z)(gr,[["render",Di],["__scopeId","data-v-4e08bc02"]]);var br=hr;const fr=e=>((0,o.dD)("data-v-7ad88c8c"),e=e(),(0,o.Cn)(),e),wr={key:0,class:"loading-container"},vr={key:0,class:"write-page"},kr={class:"title-style"},_r={class:"title"},Ir={class:"info"},yr=["src"],Dr={class:"writer"},Cr=fr((()=>(0,o._)("i",{class:"fi fi-br-menu-dots-vertical"},null,-1))),Pr=fr((()=>(0,o._)("i",{class:"fa-solid fa-tag"},null,-1))),Sr={class:"created-at"},xr={class:"file-container"},Fr=["onClick"],zr=fr((()=>(0,o._)("div",{class:"file-icon"},[(0,o._)("i",{class:"fi fi-sr-document"})],-1))),$r={class:"file-name"},Wr={class:"update-content-box"};function Ur(e,t,a,s,n,l){const d=(0,o.up)("Loader"),c=(0,o.up)("Sidebar"),u=(0,o.up)("ModButton");return(0,o.wg)(),(0,o.iD)("div",null,[n.loading?((0,o.wg)(),(0,o.iD)("div",wr,[(0,o.Wm)(d)])):(0,o.kq)("",!0),(0,o._)("div",{style:(0,i.j5)({"margin-right":s.sidebarWidth})},[n.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",vr,[(0,o.Wm)(c,{"board-id":a.boardId,"member-id":n.memberId,"team-id":a.teamId,role:n.role},null,8,["board-id","member-id","team-id","role"]),(0,o._)("div",{onSubmit:t[3]||(t[3]=(0,r.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,o._)("div",kr,[(0,o._)("div",_r,(0,i.zw)(n.boardContent.title),1),(0,o._)("div",Ir,[(0,o._)("div",null,[(0,o._)("img",{src:n.boardContent.pictureURL},null,8,yr)]),(0,o._)("div",Dr,(0,i.zw)(n.boardContent.studentNumber)+"  "+(0,i.zw)(n.boardContent.writer),1),n.memberId==n.boardContent.writerId?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"more-icon",onMousedown:t[0]||(t[0]=(...e)=>l.openMod&&l.openMod(...e)),onMouseleave:t[1]||(t[1]=(...e)=>l.closeMod&&l.closeMod(...e))},[n.mod?((0,o.wg)(),(0,o.j4)(u,{key:0,onCloseMod:l.closeMod,boardId:a.boardId,teamId:a.teamId},null,8,["onCloseMod","boardId","teamId"])):(0,o.kq)("",!0),Cr],32)):(0,o.kq)("",!0),(0,o._)("div",{class:"workName-box-style",style:(0,i.j5)({backgroundColor:n.color})},[Pr,(0,o._)("span",null,(0,i.zw)(n.boardContent.workName),1)],4),(0,o._)("div",Sr,(0,i.zw)(n.boardContent.createdAt[0])+"년  "+(0,i.zw)(n.boardContent.createdAt[1])+"월  "+(0,i.zw)(n.boardContent.createdAt[2])+"일 "+(0,i.zw)(n.boardContent.createdAt[3])+":"+(0,i.zw)(n.boardContent.createdAt[4])+":"+(0,i.zw)(n.boardContent.createdAt[5]),1)])]),(0,o._)("div",xr,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.boardContent.fileDirs,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,onClick:a=>l.downloadFile(n.boardContent.fileId[t],e),class:"file-box"},[zr,(0,o._)("div",$r,(0,i.zw)(l.extractFileName(e)),1)],8,Fr)))),128))]),(0,o._)("div",Wr,[(0,o.wy)((0,o._)("textarea",{id:"content2","onUpdate:modelValue":t[2]||(t[2]=e=>n.formData.content=e),disabled:""},null,512),[[r.nr,n.formData.content]])])],32)]))],4)])}const Mr=e=>((0,o.dD)("data-v-74c4aabe"),e=e(),(0,o.Cn)(),e),Ar={class:"modification"},Br={class:"options"},Lr=Mr((()=>(0,o._)("div",{class:"icon"},[(0,o._)("i",{class:"fi fi-rr-pencil"})],-1))),Hr=[Lr];var Nr={__name:"ModButton",props:{boardId:{type:Number},teamId:{type:Number}},emits:["closeMod"],setup(e,{emit:t}){const a=e,i=(0,s.tv)(),r=()=>{t("closeMod"),console.log(a.boardId),console.log(a.teamId),i.push({name:"UpdatePage",params:{boardId:a.boardId,teamId:a.teamId}})};return(t,a)=>((0,o.wg)(),(0,o.iD)("div",Ar,[(0,o._)("div",Br,[(0,o._)("div",{class:"mod",onClick:a[0]||(a[0]=a=>r(t.memberId,e.boardId,e.teamId))},Hr)])]))}};const Or=(0,se.Z)(Nr,[["__scopeId","data-v-74c4aabe"]]);var Tr=Or,Yr={props:["boardId","teamId"],components:{Sidebar:pr,Loader:qs.Z,ModButton:Tr},setup(){return{sidebarWidth:nr}},data(){return{boardContent:{},formData:{title:"",content:"",boardId:null},loading:!0,color:this.$route.params.color,mod:!1,memberId:0,role:this.$store.state.userStore.role}},async created(){const e=this.$route.params.boardId,t=this.$store.state.userStore.user_id,a=this.$route.params.teamId;try{const s=await J.be.get(`/board-service/board/view/${e}/${t}/${a}`);200===s.data.status.code?(this.boardContent=s.data.content,this.formData.title=this.boardContent.title,this.formData.content=this.boardContent.content,this.memberId=t,this.loading=!1,this.increaseViewCount(e)):console.error("올바르지 않은 요청입니다.")}catch(s){console.error("게시글 조회 오류:",s)}},methods:{increaseViewCount(e){try{J.be.post(`board-service/board/upcount/${e}`);console.log("조회수 증가 성공:")}catch(t){console.error("조회수 증가 오류:",t)}},goToUpdatePage(){this.$router.push({name:"UpdatePage",params:{boardId:this.boardId,teamId:this.teamId}})},goToSideBarPage(){this.$router.push({name:"SideBarPage",params:{memberId:this.memberId,teamId:this.teamId}})},submitForm(){},cancel(){},hasExtension(e){const t=/\.[0-9a-z]+$/i;return t.test(e)},extractFileName(e){const t=e.split("_")[1];return t},async downloadFile(e,t){try{const a=await J.be.get(`board-service/downloadFile/${e}`,{responseType:"blob"}),s=new Blob([a.data]),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.setAttribute("download",this.extractFileName(t)),document.body.appendChild(o),o.click(),o.remove()}catch(a){console.error("Error downloading file:",a)}},openMod(){this.mod=!0},closeMod(){this.mod=!1},resize(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"}}};const jr=(0,se.Z)(Yr,[["render",Ur],["__scopeId","data-v-7ad88c8c"]]);var qr=jr;const Zr=[{path:"/",redirect:"/dashboard"},{path:"/accounts",name:"Account",component:()=>a.e(679).then(a.bind(a,6679)),props:!0,children:[{path:"signin",name:"SignIn",component:()=>a.e(521).then(a.bind(a,3521))},{path:"signup",name:"SignUp",component:()=>a.e(306).then(a.bind(a,1306))},{path:"oauth2/google/callback",name:"CallBack",component:()=>a.e(180).then(a.bind(a,2180))}]},{path:"/works/:teamId",name:"Work",component:$t,props:!0},{path:"/calendars/:teamId",name:"Calendar",component:()=>a.e(333).then(a.bind(a,5333)),props:!0},{path:"/dashboard/invitation/:projectId",name:"Invitation",component:()=>a.e(759).then(a.bind(a,5759)),props:!0},{path:"/dashboard/professor/:professorId",name:"DashboardPro1",component:()=>a.e(338).then(a.bind(a,9338)),props:!0},{path:"/dashboard/professor/teams/:projectId",name:"DashboardPro2",component:()=>a.e(668).then(a.bind(a,3668)),props:!0},{path:"/dashboard/student/teams/:projectId",name:"DashboardStu1",component:()=>a.e(888).then(a.bind(a,1888)),props:!0},{path:"/dashboard/student/:studentId",name:"DashboardStu2",component:()=>a.e(59).then(a.bind(a,4544))},{path:"/chatting/:teamId",name:"Chat",component:()=>a.e(116).then(a.bind(a,4116)),props:!0},{path:"/contribution/:teamId",name:"Contribution",component:()=>a.e(235).then(a.bind(a,52)),props:!0},{path:"/board/list/:teamId",name:"HomeView",component:qo,props:!0},{path:"/professor/board/list/:teamId",name:"HomeViewProfessor",component:To,props:!0},{path:"/board/multiWrite/:teamId",name:"WritePage",component:Vs,props:!0},{path:"/board/multiboard/update/:boardId/:teamId",name:"UpdatePage",component:br,props:!0},{path:"/board/view/:boardId/:teamId",name:"BoardDetailPage",component:qr,props:!0},{path:"/settingPro/:professorId",name:"Setting1",component:()=>a.e(331).then(a.bind(a,5331)),props:!0},{path:"/settingStu/:studentId",name:"Setting2",component:()=>a.e(331).then(a.bind(a,5331)),props:!0}],Er=(0,s.p7)({history:(0,s.PO)(),routes:Zr});var Vr=Er},5389:function(e,t,a){a.d(t,{Z:function(){return d}});var s=a(65),o=a(2415);const i={namespaced:!0,state:{user_id:null,jwtToken:null,role:null},mutations:{setUserId(e,t){e.user_id=t},setJwtToken(e,t){e.jwtToken=t},setRole(e,t){e.role=t}}};var r=i;const n={namespaced:!0,state:{user_email:null,picture_url:null},mutations:{setUserEmail(e,t){e.user_email=t},setPictureUrl(e,t){e.picture_url=t}}};var l=n,d=(0,s.MT)({state:{redirectURL:null},mutations:{setRedirectURL(e,t){e.redirectURL=t}},modules:{userStore:r,registerStore:l},plugins:[(0,o.Z)({paths:["userStore","redirectURL"]})]})},4217:function(e,t,a){a.d(t,{Z:function(){return u}});var s=a(3396);const o={class:"container"},i={class:"loader-container"};function r(e,t,a,r,n,l){const d=(0,s.up)("pulse-loader");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",i,[(0,s.Wm)(d,{loading:e.loading,color:n.color,size:n.size},null,8,["loading","color","size"])])])}var n=a(2043),l={data(){return{color:"#3772FF",size:"18px"}},components:{PulseLoader:n.Z}},d=a(89);const c=(0,d.Z)(l,[["render",r],["__scopeId","data-v-db782fb0"]]);var u=c}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,i){if(!s){var r=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],i=e[c][2];for(var n=!0,l=0;l<s.length;l++)(!1&i||r>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(n=!1,i<r&&(r=i));if(n){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,o,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{59:"9ea25971",116:"746b279b",180:"3ab77651",235:"b5f4a031",306:"0e8b1bb5",331:"12a63357",333:"50733a49",338:"67d3e717",521:"d5581446",668:"747d1191",679:"56ce464f",759:"81510a47",888:"c93e21f0"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{59:"3740626d",116:"aeb91160",235:"2b752eea",306:"9e3ed058",333:"fdff2408",338:"c810325a",521:"e65b7047",668:"da6cc4ed",679:"31510605",759:"239bbb13",888:"5af67603"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="co-work:";a.l=function(s,o,i,r){if(e[s])e[s].push(o);else{var n,l;if(void 0!==i)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+i){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+i),n.src=s),e[s]=[o];var m=function(t,a){n.onerror=n.onload=null,clearTimeout(p);var o=e[s];if(delete e[s],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,s,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var r=function(a){if(i.onerror=i.onload=null,"load"===a.type)s();else{var r=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=n,i.parentNode&&i.parentNode.removeChild(i),o(l)}};return i.onerror=i.onload=r,i.href=t,a?a.parentNode.insertBefore(i,a.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var o=a[s],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var r=document.getElementsByTagName("style");for(s=0;s<r.length;s++){o=r[s],i=o.getAttribute("data-href");if(i===e||i===t)return o}},s=function(s){return new Promise((function(o,i){var r=a.miniCssF(s),n=a.p+r;if(t(r,n))return o();e(s,n,null,o,i)}))},o={143:0};a.f.miniCss=function(e,t){var a={59:1,116:1,235:1,306:1,333:1,338:1,521:1,668:1,679:1,759:1,888:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=s(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};a.f.j=function(t,s){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)s.push(o[2]);else{var i=new Promise((function(a,s){o=e[t]=[a,s]}));s.push(o[2]=i);var r=a.p+a.u(t),n=new Error,l=function(s){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;n.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",n.name="ChunkLoadError",n.type=i,n.request=r,o[1](n)}};a.l(r,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,i,r=s[0],n=s[1],l=s[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(l)var c=l(a)}for(t&&t(s);d<r.length;d++)i=r[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},s=self["webpackChunkco_work"]=self["webpackChunkco_work"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(9936)}));s=a.O(s)})();
//# sourceMappingURL=app.62065105.js.map